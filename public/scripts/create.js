(()=>{"use strict";class e{addStep(e){return this.steps.push(e),this}constructor(t,r,s=[]){this.mold=t instanceof e?()=>t.make():t,this.defaultParameters=r,this.steps=s}make(e={}){const t={...this.defaultParameters,...e},r=this.mold(t);for(const e of this.steps)e(r,t);return r}}!function(e){let t;!function(e){e.resolve=function(e,t,r){return"function"==typeof e?e(t,r):e}}(t=e.DynamicValue||(e.DynamicValue={}))}(e||(e={}));const t=e;var r;!function(e){e.apply=function(e,t){for(const r in t){const s=r;e.style[s]=t[s]}return e}}(r||(r={}));const s=r;class n extends t{copy(){return new n(this.mold,this.defaultParameters,[...this.steps])}id(e){return this.addStep(((r,s)=>r.id=String(t.DynamicValue.resolve(e,r,s))))}classes(...e){return this.addStep(((r,s)=>r.classList.add(...e.map((e=>t.DynamicValue.resolve(e,r,s))).flat(1).flatMap((e=>String(e).split(" "))))))}attribute(e,r){return this.addStep(((s,n)=>{const i=String(t.DynamicValue.resolve(e,s,n));void 0===r?s.toggleAttribute(i,!0):s.setAttribute(i,String(t.DynamicValue.resolve(r,s,n)))}))}attributes(e){return this.addStep(((r,s)=>{for(const n in e)r.setAttribute(n,String(t.DynamicValue.resolve(e[n],r,s)))}))}text(e){return this.addStep(((r,s)=>r.textContent=String(t.DynamicValue.resolve(e,r,s))))}style(e){return this.addStep(((r,n)=>{const i={};for(const s in e){const a=s;i[a]=String(t.DynamicValue.resolve(e[a],r,n))}s.apply(r,i)}))}tooltip(e){return this.addStep(((r,s)=>r.title=String(t.DynamicValue.resolve(e,r,s))))}children(...e){return this.addStep(((t,r)=>{for(const s of e){const e="function"==typeof s?s(t,r):s;e&&("string"==typeof e?t.appendChild(document.createTextNode(e)):e instanceof HTMLElement?t.appendChild(e):t.appendChild(e.make(r)))}}))}on(e,t){return this.addStep((r=>r.addEventListener(e,(e=>t(e,r)))))}once(e,t){return this.addStep((r=>r.addEventListener(e,(e=>t(e,r)),{once:!0})))}do(e){return this.addStep(e)}static fromTagName(e,t){return new n((()=>document.createElement(e)),void 0===t?{}:t)}}const i=n;class a extends i{copy(){return new a(this.defaultParameters,[...this.steps])}constructor(e,t=[]){super((()=>document.createElement("a")),e,t)}doDownload(e){return this.addStep(((r,s)=>r.download=t.DynamicValue.resolve(e,r,s)?"true":""))}href(e){return this.addStep(((t,r)=>{const s="function"==typeof e?e(t,r):e;t.href=s instanceof URL?s.href:s}))}referrerPolicy(e){return this.addStep(((r,s)=>r.referrerPolicy=t.DynamicValue.resolve(e,r,s)))}openInNewTab(e){return this.addStep(((r,s)=>r.target=t.DynamicValue.resolve(e,r,s)?"_blank":""))}}class o extends i{copy(){return new o(this.mold,this.defaultParameters,[...this.steps])}showControls(e){return this.addStep(((r,s)=>r.controls=t.DynamicValue.resolve(e,r,s)))}doLoop(e){return this.addStep(((r,s)=>r.loop=t.DynamicValue.resolve(e,r,s)))}doMute(e){return this.addStep(((r,s)=>r.muted=t.DynamicValue.resolve(e,r,s)))}rate(e,r=!1){return this.addStep(((s,n)=>{s.playbackRate=t.DynamicValue.resolve(e,s,n),s.preservesPitch=t.DynamicValue.resolve(r,s,n)}))}src(e){return this.addStep(((t,r)=>{const s="function"==typeof e?e(t,r):e;t.src=s instanceof URL?s.href:s}))}}class u extends o{copy(){return new u(this.defaultParameters,[...this.steps])}constructor(e,t=[]){super((()=>document.createElement("audio")),e,t)}}class c extends i{copy(){return new c(this.defaultParameters,[...this.steps])}constructor(e,t=[]){super((()=>document.createElement("base")),e,t)}href(e){return this.addStep(((t,r)=>{const s="function"==typeof e?e(t,r):e;t.href=s instanceof URL?s.href:s}))}openInNewTab(e){return this.addStep(((r,s)=>r.target=t.DynamicValue.resolve(e,r,s)?"_blank":""))}}class d extends i{copy(){return new d(this.defaultParameters,[...this.steps])}constructor(e,t=[]){super((()=>document.createElement("body")),e,t)}}class l extends i{copy(){return new l(this.defaultParameters,[...this.steps])}constructor(e,t=[]){super((()=>document.createElement("br")),e,t)}}class h extends i{copy(){return new h(this.defaultParameters,[...this.steps])}constructor(e,t=[]){super((()=>document.createElement("button")),e,t)}doDisable(e){return this.addStep(((r,s)=>r.disabled=t.DynamicValue.resolve(e,r,s)))}name(e){return this.addStep(((r,s)=>r.name=String(t.DynamicValue.resolve(e,r,s))))}}class m extends i{copy(){return new m(this.defaultParameters,[...this.steps])}constructor(e,t=[]){super((()=>document.createElement("canvas")),e,t)}width(e){return this.addStep(((r,s)=>r.width=Math.floor(t.DynamicValue.resolve(e,r,s))))}height(e){return this.addStep(((r,s)=>r.height=Math.floor(t.DynamicValue.resolve(e,r,s))))}}class p extends i{copy(){return new p(this.defaultParameters,[...this.steps])}constructor(e,t=[]){super((()=>document.createElement("data")),e,t)}value(e){return this.addStep(((r,s)=>r.value=String(t.DynamicValue.resolve(e,r,s))))}}class E extends i{copy(){return new E(this.defaultParameters,[...this.steps])}constructor(e,t=[]){super((()=>document.createElement("datalist")),e,t)}options(...e){return this.children(...e)}}class f extends i{copy(){return new f(this.defaultParameters,[...this.steps])}constructor(e,t=[]){super((()=>document.createElement("dialog")),e,t)}isOpen(e){return this.addStep(((r,s)=>r.open=t.DynamicValue.resolve(e,r,s)))}returnValue(e){return this.addStep(((r,s)=>r.returnValue=String(t.DynamicValue.resolve(e,r,s))))}}class S extends i{copy(){return new S(this.defaultParameters,[...this.steps])}constructor(e,t=[]){super((()=>document.createElement("div")),e,t)}flex(){return this.classes("flex"),new y(this.defaultParameters,this.steps)}flexRows(){return this.classes("rows"),new w(this.defaultParameters,this.steps)}flexColumns(){return this.classes("columns"),new D(this.defaultParameters,this.steps)}}class y extends S{copy(){return new y(this.defaultParameters,[...this.steps])}spacing(e){return this.classes(((r,s)=>t.DynamicValue.resolve(e,r,s)))}wrapItems(e){return this.classes(((r,s)=>t.DynamicValue.resolve(e,r,s)?"wrap":"no-wrap"))}}class w extends y{alignItems(e){return this.classes(((r,s)=>t.DynamicValue.resolve(e,r,s)))}alignContent(e){return this.classes(((r,s)=>t.DynamicValue.resolve(e,r,s)))}}class D extends y{alignItems(e){return this.classes(((r,s)=>t.DynamicValue.resolve(e,r,s)))}alignContent(e){return this.classes(((r,s)=>t.DynamicValue.resolve(e,r,s)))}}class g extends i{copy(){return new g(this.defaultParameters,[...this.steps])}constructor(e,t=[]){super((()=>document.createElement("dl")),e,t)}}class R extends i{copy(){return new R(this.defaultParameters,[...this.steps])}constructor(e,t=[]){super((()=>document.createElement("embed")),e,t)}width(e){return this.addStep(((r,s)=>r.width=Math.floor(t.DynamicValue.resolve(e,r,s)).toString()))}height(e){return this.addStep(((r,s)=>r.height=Math.floor(t.DynamicValue.resolve(e,r,s)).toString()))}src(e){return this.addStep(((t,r)=>{const s="function"==typeof e?e(t,r):e;t.src=s instanceof URL?s.href:s}))}}class v extends i{copy(){return new v(this.defaultParameters,[...this.steps])}constructor(e,t=[]){super((()=>document.createElement("fieldset")),e,t)}name(e){return this.addStep(((r,s)=>r.name=String(t.DynamicValue.resolve(e,r,s))))}}class T extends i{copy(){return new T(this.defaultParameters,[...this.steps])}constructor(e,t=[]){super((()=>document.createElement("form")),e,t)}name(e){return this.addStep(((r,s)=>r.name=String(t.DynamicValue.resolve(e,r,s))))}method(e){return this.addStep(((r,s)=>r.method=String(t.DynamicValue.resolve(e,r,s))))}}!function(e){let t;!function(e){e.POST="post",e.GET="get",e.DIALOG="dialog"}(t=e.Method||(e.Method={}))}(T||(T={}));const A=T;class N extends i{copy(){return new N(this.defaultParameters,[...this.steps])}constructor(e,t=[]){super((()=>document.createElement("head")),e,t)}}class I extends i{copy(){return new I(this.size,this.defaultParameters,[...this.steps])}constructor(e,t,r=[]){super((e=>document.createElement("h"+this.size)),t,r),this.size=e}}const O=I;class P extends i{copy(){return new P(this.defaultParameters,[...this.steps])}constructor(e,t=[]){super((()=>document.createElement("hr")),e,t)}}class x extends i{copy(){return new x(this.defaultParameters,[...this.steps])}constructor(e,t=[]){super((()=>document.createElement("html")),e,t)}}class L extends i{copy(){return new L(this.defaultParameters,[...this.steps])}constructor(e,t=[]){super((()=>document.createElement("iframe")),e,t)}allow(e){return this.addStep(((r,s)=>r.allow=t.DynamicValue.resolve(e,r,s)))}allowFullscreen(e){return this.addStep(((r,s)=>r.allowFullscreen=t.DynamicValue.resolve(e,r,s)))}src(e){return this.addStep(((t,r)=>{const s="function"==typeof e?e(t,r):e;t.src=s instanceof URL?s.href:s}))}}class C extends i{fetchPriority(e){return this.addStep(((r,s)=>r.fetchPriority=t.DynamicValue.resolve(e,r,s)))}}!function(e){let t;!function(e){e.LOW="low",e.HIGH="high",e.AUTO="auto"}(t=e.FetchPriority||(e.FetchPriority={}))}(C||(C={}));const V=C;class b extends V{copy(){return new b(this.defaultParameters,[...this.steps])}constructor(e,t=[]){super((()=>document.createElement("img")),e,t)}alt(e){return this.addStep(((r,s)=>r.alt=String(t.DynamicValue.resolve(e,r,s))))}loadingMode(e){return this.addStep(((r,s)=>r.loading=t.DynamicValue.resolve(e,r,s)))}width(e){return this.addStep(((r,s)=>r.width=Math.floor(t.DynamicValue.resolve(e,r,s))))}height(e){return this.addStep(((r,s)=>r.height=Math.floor(t.DynamicValue.resolve(e,r,s))))}src(e){return this.addStep(((t,r)=>{const s="function"==typeof e?e(t,r):e;t.src=s instanceof URL?s.href:s}))}srcset(...e){return this.addStep(((t,r)=>t.srcset=e.map((e=>"function"==typeof e?e(t,r):e)).map(String).join(",")))}sizes(...e){return this.addStep(((r,s)=>r.sizes=e.map((e=>t.DynamicValue.resolve(e,r,s))).join(",")))}}!function(e){let t;!function(e){e.EAGER="eager",e.LAZY="lazy"}(t=e.LoadingMode||(e.LoadingMode={}))}(b||(b={}));const M=b;class H extends i{copy(){return new H(this.type,this.defaultParameters,[...this.steps])}constructor(e,t,r=[]){super((()=>{const t=document.createElement("input");return t.type=e,t}),t),this.type=e}value(e){return this.addStep(((t,r)=>t.value=H.valueToString(this.type,"function"==typeof e?e(t,r):e)))}name(e){return this.addStep(((r,s)=>r.name=String(t.DynamicValue.resolve(e,r,s))))}isDisabled(e){return this.addStep(((r,s)=>r.disabled=t.DynamicValue.resolve(e,r,s)))}isRequired(e){return this.addStep(((r,s)=>r.required=t.DynamicValue.resolve(e,r,s)))}}!function(e){let t;!function(e){e.BUTTON="button",e.CHECKBOX="checkbox",e.COLOR="color",e.DATE="date",e.DATETIME_LOCAL="datetime-local",e.EMAIL="email",e.FILE="file",e.HIDDEN="hidden",e.IMAGE="image",e.MONTH="month",e.NUMBER="number",e.PASSWORD="password",e.RADIO="radio",e.RANGE="range",e.RESET="reset",e.SEARCH="search",e.SUBMIT="submit",e.TEL="tel",e.TEXT="text",e.TIME="time",e.URL="url",e.WEEK="week"}(t=e.Type||(e.Type={}));const r=Object.freeze({[t.BUTTON]:{fromString:()=>{},toString:()=>""},[t.CHECKBOX]:{fromString:e=>e,toString:e=>e},[t.COLOR]:{fromString:e=>e,toString:e=>e},[t.DATE]:{fromString:e=>{const[t,r,s]=e.split("-").map((e=>Number.parseInt(e)));return{day:s,month:r,year:t}},toString:e=>`${e.year.toString().padStart(4,"0")}-${(e.month+1).toString().padStart(2,"0")}-${e.day.toString().padStart(2,"0")}`},[t.DATETIME_LOCAL]:{fromString:e=>{const[t,r]=e.split("T"),[s,n,i]=t.split("-").map((e=>Number.parseInt(e))),[a,o]=r.split("-").map((e=>Number.parseInt(e)));return new Date(s,n-1,i,a,o)},toString:e=>{let t=e.toISOString();return t.includes(".")&&(t=t.substring(0,t.lastIndexOf("."))),t}},[t.EMAIL]:{fromString:e=>e,toString:e=>e},[t.FILE]:{fromString:e=>e,toString:e=>e},[t.HIDDEN]:{fromString:e=>e,toString:e=>e},[t.IMAGE]:{fromString:()=>{},toString:()=>""},[t.MONTH]:{fromString:e=>{const[t,r]=e.split("-").map((e=>Number.parseInt(e)));return{monthIndex:r-1,year:t}},toString:e=>`${e.year.toString().padStart(4,"0")}-${(e.monthIndex+1).toString().padStart(2,"0")}`},[t.NUMBER]:{fromString:e=>Number.parseFloat(e),toString:e=>e.toString()},[t.PASSWORD]:{fromString:e=>e,toString:e=>e},[t.RADIO]:{fromString:e=>e,toString:e=>e},[t.RANGE]:{fromString:e=>Number.parseFloat(e),toString:e=>e.toString()},[t.RESET]:{fromString:()=>{},toString:()=>""},[t.SEARCH]:{fromString:e=>e,toString:e=>e},[t.SUBMIT]:{fromString:()=>{},toString:()=>""},[t.TEL]:{fromString:e=>e,toString:e=>e},[t.TEXT]:{fromString:e=>e,toString:e=>e},[t.TIME]:{fromString:e=>{const[t,r]=e.split(":").map((e=>Number.parseInt(e)));return{hours:t,minutes:r}},toString:e=>`${e.hours.toString().padStart(2,"0")}:${e.minutes.toString().padStart(2,"0")}`},[t.URL]:{fromString:e=>new URL(e),toString:e=>e.href},[t.WEEK]:{fromString:e=>{const[t,r]=e.split("-W").map((e=>Number.parseInt(e)));return{year:t,week:r}},toString:e=>`${e.year.toString().padStart(4,"0")}-W${e.week.toString().padStart(2,"0")}`}});e.valueToString=function(e,t){return r[e].toString(t)},e.valueFromString=function(e,t){return r[e].fromString(t)},e.DEFAULT_CREATORS=Object.freeze({[t.BUTTON]:e=>new _(t.BUTTON,e),[t.CHECKBOX]:e=>new W(t.CHECKBOX,e),[t.COLOR]:r=>new e(t.COLOR,r),[t.DATE]:e=>new k(t.DATE,e),[t.DATETIME_LOCAL]:e=>new k(t.DATETIME_LOCAL,e),[t.EMAIL]:e=>new F(t.EMAIL,e),[t.FILE]:e=>new F(t.FILE,e),[t.HIDDEN]:e=>new F(t.HIDDEN,e),[t.IMAGE]:e=>new z(e),[t.MONTH]:e=>new k(t.MONTH,e),[t.NUMBER]:e=>new k(t.NUMBER,e),[t.PASSWORD]:e=>new F(t.PASSWORD,e),[t.RADIO]:e=>new W(t.RADIO,e),[t.RANGE]:e=>new k(t.RANGE,e),[t.RESET]:e=>new _(t.RESET,e),[t.SEARCH]:e=>new F(t.SEARCH,e),[t.SUBMIT]:e=>new _(t.SUBMIT,e),[t.TEL]:e=>new F(t.TEL,e),[t.TEXT]:e=>new F(t.TEXT,e),[t.TIME]:e=>new k(t.TIME,e),[t.URL]:e=>new F(t.URL,e),[t.WEEK]:e=>new k(t.WEEK,e)}),e.fromType=function(t,r){return e.DEFAULT_CREATORS[t](r)}}(H||(H={}));const U=H;class _ extends H{copy(){return new _(this.type,this.defaultParameters,[...this.steps])}constructor(e,t,r=[]){super(e,t,r)}text(e){return this.addStep(((r,s)=>r.value=String(t.DynamicValue.resolve(e,r,s))))}}class z extends H{copy(){return new z(this.defaultParameters,[...this.steps])}constructor(e,t=[]){super(H.Type.IMAGE,e,t)}src(e){return this.addStep(((t,r)=>t.src=String("function"==typeof e?e(t,r):e)))}}class F extends H{copy(){return new F(this.type,this.defaultParameters,[...this.steps])}text(e){return this.addStep(((t,r)=>t.value=String("function"==typeof e?e(t,r):e)))}placeholder(e){return this.addStep(((r,s)=>r.placeholder=String(t.DynamicValue.resolve(e,r,s))))}pattern(e){return this.addStep(((t,r)=>t.pattern=("function"==typeof e?e(t,r):e).source))}minLength(e){return this.addStep(((r,s)=>r.minLength=Math.floor(t.DynamicValue.resolve(e,r,s))))}maxLength(e){return this.addStep(((r,s)=>r.maxLength=Math.floor(t.DynamicValue.resolve(e,r,s))))}}class W extends H{copy(){return new W(this.type,this.defaultParameters,[...this.steps])}isChecked(e){return this.addStep(((r,s)=>r.checked=t.DynamicValue.resolve(e,r,s)))}}class k extends H{copy(){return new k(this.type,this.defaultParameters,[...this.steps])}min(e){return this.addStep(((t,r)=>t.min=H.valueToString(this.type,"function"==typeof e?e(t,r):e)))}max(e){return this.addStep(((t,r)=>t.max=H.valueToString(this.type,"function"==typeof e?e(t,r):e)))}step(e){return this.addStep(((r,s)=>r.step=t.DynamicValue.resolve(e,r,s).toString()))}placeholder(e){return this.addStep(((r,s)=>r.placeholder=String(t.DynamicValue.resolve(e,r,s))))}}class G extends i{copy(){return new G(this.defaultParameters,[...this.steps])}constructor(e,t=[]){super((()=>document.createElement("label")),e,t)}for(e){return this.addStep(((t,r)=>{const s="function"==typeof e?e(t,r):e;t.id=s instanceof Element?s.id:String(s)}))}}class B extends i{copy(){return new B(this.defaultParameters,[...this.steps])}constructor(e,t=[]){super((()=>document.createElement("legend")),e,t)}}class K extends i{copy(){return new K(this.defaultParameters,[...this.steps])}constructor(e,t=[]){super((()=>document.createElement("li")),e,t)}}class j extends V{copy(){return new j(this.relationship,this.defaultParameters,[...this.steps])}constructor(e,t,r=[]){super((()=>{const t=document.createElement("link");return t.rel=e,t}),t,r),this.relationship=e}href(e){return this.addStep(((t,r)=>{const s="function"==typeof e?e(t,r):e;t.href=s instanceof URL?s.href:s}))}type(e){return this.addStep(((r,s)=>r.type=t.DynamicValue.resolve(e,r,s)))}media(e){return this.addStep(((t,r)=>{const s="function"==typeof e?e(t,r):e;t.media=s.toString()}))}}!function(e){let t;!function(e){e.ALTERNATE="alternate",e.AUTHOR="author",e.CANONICAL="canonical",e.DNS_PREFETCH="dns-prefetch",e.EXPECT="expect",e.HELP="help",e.ICON="icon",e.LICENSE="license",e.MANIFEST="manifest",e.ME="me",e.MODULE_PRELOAD="modulepreload",e.NEXT="next",e.PING_BACK="pingback",e.PRECONNECT="preconnect",e.PREFETCH="prefetch",e.PRELOAD="preload",e.PRERENDER="prerender",e.PREV="prev",e.PRIVACY_POLICY="privacy-policy",e.SEARCH="search",e.STYLESHEET="stylesheet",e.TERMS_OF_SERVICE="terms-of-service"}(t=e.Relationship||(e.Relationship={})),e.DEFAULT_CREATORS=Object.freeze({[t.ALTERNATE]:r=>new e(t.ALTERNATE,r),[t.AUTHOR]:r=>new e(t.AUTHOR,r),[t.CANONICAL]:r=>new e(t.CANONICAL,r),[t.DNS_PREFETCH]:r=>new e(t.DNS_PREFETCH,r),[t.EXPECT]:r=>new e(t.EXPECT,r),[t.HELP]:r=>new e(t.HELP,r),[t.ICON]:r=>new e(t.ICON,r),[t.LICENSE]:r=>new e(t.LICENSE,r),[t.MANIFEST]:r=>new e(t.MANIFEST,r),[t.ME]:r=>new e(t.ME,r),[t.MODULE_PRELOAD]:e=>new X(t.MODULE_PRELOAD,e),[t.NEXT]:r=>new e(t.NEXT,r),[t.PING_BACK]:r=>new e(t.PING_BACK,r),[t.PRECONNECT]:r=>new e(t.PRECONNECT,r),[t.PREFETCH]:r=>new e(t.PREFETCH,r),[t.PRELOAD]:e=>new X(t.PRELOAD,e),[t.PRERENDER]:r=>new e(t.PRERENDER,r),[t.PREV]:r=>new e(t.PREV,r),[t.PRIVACY_POLICY]:r=>new e(t.PRIVACY_POLICY,r),[t.SEARCH]:r=>new e(t.SEARCH,r),[t.STYLESHEET]:r=>new e(t.STYLESHEET,r),[t.TERMS_OF_SERVICE]:r=>new e(t.TERMS_OF_SERVICE,r)})}(j||(j={}));const $=j;class X extends j{copy(){return new X(this.relationship,this.defaultParameters,[...this.steps])}as(e){return this.addStep(((r,s)=>r.as=t.DynamicValue.resolve(e,r,s)))}}!function(e){let t;!function(e){e.AUDIO="audio",e.DOCUMENT="document",e.EMBED="embed",e.FETCH="fetch",e.FONT="font",e.IMAGE="image",e.OBJECT="object",e.SCRIPT="script",e.STYLE="style",e.TRACK="track",e.VIDEO="video",e.WORKER="worker"}(t=e.ContentType||(e.ContentType={}))}(X||(X={}));class Y extends i{copy(){return new Y(this.defaultParameters,[...this.steps])}constructor(e,t=[]){super((()=>document.createElement("menu")),e,t)}}class q extends i{copy(){return new q(this.name,this.defaultParameters,[...this.steps])}constructor(e,t,r=[]){super((()=>{const t=document.createElement("meta");return t.name=e,t}),t,r),this.name=e}content(e){return this.addStep(((r,s)=>r.content=[t.DynamicValue.resolve(e,r,s)].flat().join(",")))}}!function(e){let t,r;!function(e){e.AUTHOR="author",e.DESCRIPTION="description",e.GENERATOR="generator",e.KEYWORDS="keywords",e.REFERRER="referrer",e.THEME_COLOR="theme-color"}(t=e.Name||(e.Name={})),function(e){e.ORIGIN="origin",e.NO_REFERRER_WHEN_DOWNGRADE="no-referrer-when-downgrade",e.ORIGIN_WHEN_CROSS_ORIGIN="origin-when-cross-origin",e.SAME_ORIGIN="same-origin",e.STRICT_ORIGIN="strict-origin",e.STRICT_ORIGIN_WHEN_CROSS_ORIGIN="strict-origin-when-cross-origin",e.UNSAFE_URL="unsafe-URL"}(r||(r={})),e.DEFAULT_CREATORS=Object.freeze({[t.AUTHOR]:r=>new e(t.AUTHOR,r),[t.DESCRIPTION]:r=>new e(t.DESCRIPTION,r),[t.GENERATOR]:r=>new e(t.GENERATOR,r),[t.KEYWORDS]:r=>new e(t.KEYWORDS,r),[t.REFERRER]:r=>new e(t.REFERRER,r),[t.THEME_COLOR]:r=>new e(t.THEME_COLOR,r)})}(q||(q={}));const Z=q;class J extends i{copy(){return new J(this.defaultParameters,[...this.steps])}constructor(e,t=[]){super((()=>document.createElement("meter")),e,t)}high(e){return this.addStep(((r,s)=>r.high=t.DynamicValue.resolve(e,r,s)))}low(e){return this.addStep(((r,s)=>r.low=t.DynamicValue.resolve(e,r,s)))}min(e){return this.addStep(((r,s)=>r.min=t.DynamicValue.resolve(e,r,s)))}max(e){return this.addStep(((r,s)=>r.max=t.DynamicValue.resolve(e,r,s)))}optimum(e){return this.addStep(((r,s)=>r.optimum=t.DynamicValue.resolve(e,r,s)))}value(e){return this.addStep(((r,s)=>r.value=t.DynamicValue.resolve(e,r,s)))}}class Q extends i{copy(){return new Q(this.defaultParameters,[...this.steps])}constructor(e,t=[]){super((()=>document.createElement("object")),e,t)}name(e){return this.addStep(((r,s)=>r.name=t.DynamicValue.resolve(e,r,s)))}data(e){return this.addStep(((t,r)=>{const s="function"==typeof e?e(t,r):e;t.data=s instanceof URL?s.href:s}))}type(e){return this.addStep(((r,s)=>r.type=t.DynamicValue.resolve(e,r,s)))}width(e){return this.addStep(((r,s)=>r.width=Math.floor(t.DynamicValue.resolve(e,r,s)).toString()))}height(e){return this.addStep(((r,s)=>r.height=Math.floor(t.DynamicValue.resolve(e,r,s)).toString()))}}class ee extends i{copy(){return new ee(this.defaultParameters,[...this.steps])}constructor(e,t=[]){super((()=>document.createElement("optgroup")),e,t)}isDisabled(e){return this.addStep(((r,s)=>r.disabled=t.DynamicValue.resolve(e,r,s)))}label(e){return this.addStep(((r,s)=>r.label=t.DynamicValue.resolve(e,r,s)))}options(...e){return this.children(...e)}}class te extends i{copy(){return new te(this.value,this.defaultParameters,[...this.steps])}constructor(e,t,r=[]){super((()=>{const t=document.createElement("option");return t.value=t.text=e,t}),t,r),this.value=e}text(e){return this.addStep(((r,s)=>r.text=String(t.DynamicValue.resolve(e,r,s))))}}class re extends i{copy(){return new re(this.defaultParameters,[...this.steps])}constructor(e,t=[]){super((()=>document.createElement("ol")),e,t)}isReversed(e){return this.addStep(((r,s)=>r.reversed=t.DynamicValue.resolve(e,r,s)))}start(e){return this.addStep(((r,s)=>r.start=t.DynamicValue.resolve(e,r,s)))}type(e){return this.addStep(((r,s)=>r.type=t.DynamicValue.resolve(e,r,s)))}}!function(e){let t;!function(e){e.DECIMAL_NUMBERS="1",e.LOWERCASE_LETTERS="a",e.UPPERCASE_LETTERS="A",e.LOWERCASE_ROMAN_NUMERALS="i",e.UPPERCASE_ROMAN_NUMERALS="I"}(t=e.Type||(e.Type={}))}(re||(re={}));const se=re;class ne extends i{copy(){return new ne(this.defaultParameters,[...this.steps])}constructor(e,t=[]){super((()=>document.createElement("output")),e,t)}name(e){return this.addStep(((r,s)=>r.name=t.DynamicValue.resolve(e,r,s)))}value(e){return this.addStep(((r,s)=>r.value=t.DynamicValue.resolve(e,r,s)))}for(...e){return this.addStep(((t,r)=>t.setAttribute("for",e.map((e=>"function"==typeof e?e(t,r):e)).map((e=>e instanceof Element?e.id:e)).join(" "))))}}class ie extends i{copy(){return new ie(this.defaultParameters,[...this.steps])}constructor(e,t=[]){super((()=>document.createElement("p")),e,t)}}class ae extends i{copy(){return new ae(this.defaultParameters,[...this.steps])}constructor(e,t=[]){super((()=>document.createElement("picture")),e,t)}}class oe extends i{copy(){return new oe(this.defaultParameters,[...this.steps])}constructor(e,t=[]){super((()=>document.createElement("pre")),e,t)}}class ue{static clamp(e,t=-1/0,r=1/0){return e<t?t:e>r?r:e}static absDiff(e,t){return Math.abs(e-t)}}class ce extends i{copy(){return new ce(this.defaultParameters,[...this.steps])}constructor(e,t=[]){super((()=>document.createElement("progress")),e,t)}max(e){return this.addStep(((r,s)=>r.max=Math.max(0,t.DynamicValue.resolve(e,r,s))))}value(e){return this.addStep(((r,s)=>r.value=ue.clamp(t.DynamicValue.resolve(e,r,s),0,r.max)))}}class de extends V{copy(){return new de(this.defaultParameters,[...this.steps])}constructor(e,t=[]){super((()=>document.createElement("script")),e,t)}isAsync(e){return this.addStep(((r,s)=>r.async=t.DynamicValue.resolve(e,r,s)))}src(e){return this.addStep(((t,r)=>{const s="function"==typeof e?e(t,r):e;t.src=s instanceof URL?s.href:s}))}type(e){return this.addStep(((r,s)=>r.type=t.DynamicValue.resolve(e,r,s)))}}!function(e){let t;!function(e){e.DEFAULT="",e.IMPORT_MAP="importmap",e.MODULE="module",e.DATA="data"}(t=e.Type||(e.Type={}))}(de||(de={}));const le=de;class he extends i{copy(){return new he(this.defaultParameters,[...this.steps])}constructor(e,t=[]){super((()=>document.createElement("select")),e,t)}isDisabled(e){return this.addStep(((r,s)=>r.disabled=t.DynamicValue.resolve(e,r,s)))}isRequired(e){return this.addStep(((r,s)=>r.required=t.DynamicValue.resolve(e,r,s)))}name(e){return this.addStep(((r,s)=>r.name=t.DynamicValue.resolve(e,r,s)))}options(...e){return this.addStep(((t,r)=>e.forEach((e=>t.add(e.make(r))))))}value(e){return this.addStep(((r,s)=>r.value=t.DynamicValue.resolve(e,r,s)))}onValueChanged(e){return this.on("change",((t,r)=>e(r.value,t,r)))}onceValueChanged(e){return this.once("change",((t,r)=>e(r.value,t,r)))}}class me extends i{copy(){return new me(this.defaultParameters,[...this.steps])}constructor(e,t=[]){super((()=>document.createElement("source")),e,t)}type(e){return this.addStep(((r,s)=>r.type=t.DynamicValue.resolve(e,r,s)))}width(e){return this.addStep(((r,s)=>r.width=Math.floor(t.DynamicValue.resolve(e,r,s))))}height(e){return this.addStep(((r,s)=>r.height=Math.floor(t.DynamicValue.resolve(e,r,s))))}src(e){return this.addStep(((t,r)=>{const s="function"==typeof e?e(t,r):e;t.src=s instanceof URL?s.href:s}))}srcset(...e){return this.addStep(((t,r)=>t.srcset=e.map((e=>"function"==typeof e?e(t,r):e)).map(String).join(",")))}sizes(...e){return this.addStep(((r,s)=>r.sizes=e.map((e=>t.DynamicValue.resolve(e,r,s))).join(",")))}}const pe=me;class Ee extends i{copy(){return new Ee(this.defaultParameters,[...this.steps])}constructor(e,t=[]){super((()=>document.createElement("span")),e,t)}}class fe extends i{copy(){return new fe(this.defaultParameters,[...this.steps])}constructor(e,t=[]){super((()=>document.createElement("style")),e,t)}idDisabled(e){return this.addStep(((r,s)=>r.disabled=t.DynamicValue.resolve(e,r,s)))}media(e){return this.addStep(((t,r)=>{const s="function"==typeof e?e(t,r):e;t.media=s.toString()}))}}class Se extends i{copy(){return new Se(this.defaultParameters,[...this.steps])}constructor(e,t=[]){super((()=>document.createElement("table")),e,t)}caption(e){return this.addStep(((r,s)=>{const n=document.createElement("caption");n.textContent=t.DynamicValue.resolve(e,r,s),r.caption=n}))}}class ye extends i{copy(){return new ye(this.defaultParameters,[...this.steps])}constructor(e,t=[]){super((()=>document.createElement("caption")),e,t)}}class we extends i{copy(){return new we(this.defaultParameters,[...this.steps])}constructor(e,t=[]){super((()=>document.createElement("textarea")),e,t)}isDisabled(e){return this.addStep(((r,s)=>r.disabled=t.DynamicValue.resolve(e,r,s)))}isRequired(e){return this.addStep(((r,s)=>r.required=t.DynamicValue.resolve(e,r,s)))}name(e){return this.addStep(((r,s)=>r.name=String(t.DynamicValue.resolve(e,r,s))))}text(e){return this.addStep(((r,s)=>r.value=String(t.DynamicValue.resolve(e,r,s))))}numRows(e){return this.addStep(((r,s)=>r.rows=Math.floor(t.DynamicValue.resolve(e,r,s))))}numColumns(e){return this.addStep(((r,s)=>r.rows=Math.floor(t.DynamicValue.resolve(e,r,s))))}minLength(e){return this.addStep(((r,s)=>r.minLength=Math.floor(t.DynamicValue.resolve(e,r,s))))}maxLength(e){return this.addStep(((r,s)=>r.maxLength=Math.floor(t.DynamicValue.resolve(e,r,s))))}}class De extends i{copy(){return new De(this.defaultParameters,[...this.steps])}constructor(e,t=[]){super((()=>document.createElement("title")),e,t)}text(e){return this.addStep(((r,s)=>r.text=String(t.DynamicValue.resolve(e,r,s))))}}class ge extends i{copy(){return new ge(this.defaultParameters,[...this.steps])}constructor(e,t=[]){super((()=>document.createElement("track")),e,t)}src(e){return this.addStep(((t,r)=>{const s="function"==typeof e?e(t,r):e;t.src=s instanceof URL?s.href:s}))}isDefault(e){return this.addStep(((r,s)=>r.default=t.DynamicValue.resolve(e,r,s)))}kind(e){return this.addStep(((r,s)=>r.kind=t.DynamicValue.resolve(e,r,s)))}label(e){return this.addStep(((r,s)=>r.label=t.DynamicValue.resolve(e,r,s)))}sourceLanguage(e){return this.addStep(((t,r)=>{const s="function"==typeof e?e(t,r):e;t.srclang="string"==typeof s?s:s.language}))}}!function(e){let t;!function(e){e.SUBTITLES="subtitles",e.CAPTIONS="captions",e.CHAPTERS="chapters",e.METADATA="metadata"}(t=e.Kind||(e.Kind={}))}(ge||(ge={}));const Re=ge;class ve extends i{copy(){return new ve(this.defaultParameters,[...this.steps])}constructor(e,t=[]){super((()=>document.createElement("ul")),e,t)}type(e){return this.style({listStyleType:e})}}!function(e){let t;!function(e){e.NONE="none",e.DISC="disc",e.CIRCLE="circle",e.SQUARE="square",e.DECIMAL="decimal"}(t=e.Type||(e.Type={}))}(ve||(ve={}));const Te=ve;class Ae extends o{copy(){return new Ae(this.defaultParameters,[...this.steps])}constructor(e,t=[]){super((()=>document.createElement("video")),e,t)}isPIPDisabled(e){return this.addStep(((r,s)=>r.disablePictureInPicture=t.DynamicValue.resolve(e,r,s)))}}class Ne{constructor(){this.input=U.DEFAULT_CREATORS,this.link=$.DEFAULT_CREATORS,this.meta=Z.DEFAULT_CREATORS}a(e,t,r){let s=new a(e);return void 0!==t&&(s=s.href(t)),void 0!==r&&(s=s.openInNewTab(r)),s}audio(e,t,r){let s=new u(e);return void 0!==t&&(s=s.src(t)),void 0!==r&&(s=s.doLoop(r)),s}base(e,t,r){let s=new c(e);return void 0!==t&&(s=s.href(t)),void 0!==r&&(s=s.openInNewTab(r)),s}body(e){return new d(e)}br(e){return new l(e)}button(e,t,r){let s=new h(e);return void 0!==t&&(s=s.on("click",t)),void 0!==r&&(s=s.doDisable(r)),s}canvas(e,t,r){let s=new m(e);return void 0!==t&&(s=s.width(t)),void 0!==r&&(s=s.height(r)),s}data(e,t){let r=new p(e);return void 0!==t&&(r=r.value(t)),r}datalist(e,...t){let r=new E(e);return t&&(r=r.options(...t)),r}dialog(e,t){let r=new f(e);return void 0!==t&&(r=r.isOpen(t)),r}div(e,t,...r){let s=new S(e);return void 0!==t&&(s=s.id(t)),r&&(s=s.classes(...r)),s}dl(e){return new g(e)}embed(e){return new R(e)}fieldset(e,t){let r=new v(e);return void 0!==t&&(r=r.name(t)),r}form(e,t,r){let s=new A(e);return void 0!==t&&s.name(t),void 0!==r&&s.method(r),s}head(e){return new N(e)}h1(e,t){let r=new O(1,e);return void 0!==t&&(r=r.text(t)),r}h2(e,t){let r=new O(2,e);return void 0!==t&&(r=r.text(t)),r}h3(e,t){let r=new O(3,e);return void 0!==t&&(r=r.text(t)),r}h4(e,t){let r=new O(4,e);return void 0!==t&&(r=r.text(t)),r}h5(e,t){let r=new O(5,e);return void 0!==t&&(r=r.text(t)),r}h6(e,t){let r=new O(6,e);return void 0!==t&&(r=r.text(t)),r}hr(e){return new P(e)}html(e){return new x(e)}iframe(e,t){let r=new L(e);return void 0!==t&&(r=r.src(t)),r}img(e,t,r){let s=new M(e);return void 0!==t&&(s=s.src(t)),void 0!==r&&(s=s.alt(r)),s}label(e,t){let r=new G(e);return void 0!==t&&(r=r.for(t)),r}legend(e){return new B(e)}li(e){return new K(e)}menu(e){return new Y(e)}meter(e){return new J(e)}object(e,t,r){let s=new Q(e);return void 0!==t&&(s=s.type(t)),void 0!==r&&(s=s.data(r)),s}optgroup(e,t,...r){let s=new ee(e);return void 0!==t&&(s=s.label(t)),s.options(...r)}option(e,t,r){let s=new te(t,e);return void 0!==r&&(s=s.text(r)),s}ol(e,t,r){let s=new se(e);return void 0!==t&&(s=s.type(t)),void 0!==r&&(s=s.isReversed(r)),s}output(e,t,...r){let s=new ne(e);return void 0!==t&&(s=s.value(t)),r&&(s=s.for(...r)),s}p(e,t){let r=new ie(e);return void 0!==t&&(r=r.text(t)),r}picture(e){return new ae(e)}pre(e){return new oe(e)}progress(e,t,r){let s=new ce(e);return void 0!==t&&(s=s.value(t)),void 0!==r&&(s=s.max(r)),s}script(e,t,r){let s=new le(e);return void 0!==t&&(s=s.type(t)),void 0!==r&&(s=s.src(r)),s}select(e,...t){return new he(e).options(...t)}source(e,t,r){let s=new pe(e);return void 0!==t&&(s=s.type(t)),void 0!==r&&(s=s.src(r)),s}span(e,t){let r=new Ee(e);return void 0!==t&&(r=r.style(t)),r}style(e){return new fe(e)}table(e){return new Se(e)}caption(e){return new ye(e)}textarea(e,t){let r=new we(e);return void 0!==t&&(r=r.text(t)),r}title(e,t){let r=new De(e);return void 0!==t&&(r=r.text(t)),r}track(e,t,r){let s=new Re(e);return void 0!==t&&(s=s.kind(t)),void 0!==r&&(s=s.src(r)),s}ul(e,t){let r=new Te(e);return void 0!==t&&(r=r.type(t)),r}video(e){return new Ae(e)}}Ne.INSTANCE=new Ne;const Ie=Ne;class Oe{constructor(e,t){this.x=e,this.y=t}add(e){return new Oe(this.x+e.x,this.y+e.y)}sub(e){return new Oe(this.x-e.x,this.y-e.y)}mult(e,t=Oe.VectorMultKind.HADAMARD){switch(t){case Oe.VectorMultKind.DOT:return this.x*e.x+this.y*e.y;case Oe.VectorMultKind.HADAMARD:return new Oe(this.x*e.x,this.y*e.y);default:throw new Error("invalid vector multiplication type: "+t)}}div(e){return new Oe(this.x/e.x,this.y/e.y)}scale(e){return new Oe(this.x*e,this.y*e)}magnitude(){return Math.sqrt(this.mult(this,Oe.VectorMultKind.DOT))}equals(e){return this.x===e.x&&this.y===e.y}copy(){return new Oe(this.x,this.y)}static fromPoint(e){return new Oe(e.x,e.y)}}Oe.ZERO=new Oe(0,0),function(e){let t;!function(e){e[e.DOT=0]="DOT",e[e.HADAMARD=1]="HADAMARD"}(t=e.VectorMultKind||(e.VectorMultKind={}))}(Oe||(Oe={}));const Pe=Oe;class xe{constructor(e,t){this.width=e,this.height=t}scale(e){return new xe(this.width*e,this.height*e)}mult(e){return new xe(this.width*e.width,this.height*e.height)}div(e){return new xe(this.width/e.width,this.height/e.height)}abs(){return new xe(Math.abs(this.width),Math.abs(this.height))}getCorner(){return new Pe(this.width,this.height)}equals(e){return this.width===e.width&&this.height===e.height}copy(){return new xe(this.width,this.height)}static fromSize(e){return new xe(e.width,e.height)}static fromCorner(e){return new xe(e.x,e.y)}}class Le{constructor(e,t){this.center=e,this.dim=t}get left(){return this.center.x-this.dim.width/2}get right(){return this.center.x+this.dim.width/2}get top(){return this.center.y-this.dim.height/2}get bottom(){return this.center.y+this.dim.height/2}get topLeft(){return new Pe(this.left,this.top)}get topRight(){return new Pe(this.right,this.top)}get bottomLeft(){return new Pe(this.left,this.bottom)}get bottomRight(){return new Pe(this.right,this.bottom)}contains(e){return e.x>=this.left&&e.x<=this.right&&e.y>=this.top&&e.y<=this.bottom}clamp(e){return new Pe(ue.clamp(e.x,this.left,this.right),ue.clamp(e.y,this.top,this.bottom))}projectOntoPerimeter(e){return new Pe(e.x<this.center.x?this.left:this.right,e.y<this.center.y?this.top:this.bottom)}copy(){return new Le(this.center.copy(),this.dim.copy())}static fromCorners(e,t){const r=Pe.fromPoint(e),s=Pe.fromPoint(t);return new Le(r.add(s).scale(.5),xe.fromCorner(s.sub(r)))}static fromElement(e){const t=e.getBoundingClientRect();return new Le(new Pe(t.x+t.width/2,t.y+t.height/2),xe.fromSize(t))}}class Ce extends Le{constructor(e,t,r){super(e,t),this.rotation=r}copy(){return new Ce(this.center,this.dim,this.rotation)}}var Ve;const be=/^[a-z]+(-[a-z]+)*$/;function Me(e){if(!be.test(e))throw new SyntaxError(`name "${e}" does not match ${be}`);return`/styles/custom-elements/${e}.css`}var He;!function(e){e[e.PENDING=0]="PENDING",e[e.INITIALIZED=1]="INITIALIZED",e[e.FAILED=2]="FAILED"}(He||(He={}));class Ue extends HTMLElement{constructor(){super(...arguments),this.initState=He.PENDING,this.initResolvers=new Set,this.initRejectors=new Set}static loadStylesheet(e){return this.loadedTagNames.has(e)?Promise.resolve():new Promise(((t,r)=>{const s=document.createElement("link");s.rel="stylesheet",s.addEventListener("load",(()=>t())),s.addEventListener("error",r),s.href=Me(e),window.addEventListener("DOMContentLoaded",(()=>document.head.appendChild(s)))}))}onceInitialized(){const{promise:e,resolve:t,reject:r}=Promise.withResolvers();switch(this.initState){case He.PENDING:this.initResolvers.add(t),this.initRejectors.add(r);break;case He.INITIALIZED:t(this);break;case He.FAILED:r(this.initErr)}return e}connectedCallback(){(this.initElement()??Promise.resolve()).then((()=>{for(const e of this.initResolvers)e(this);this.initState=He.INITIALIZED})).catch((e=>{this.initErr=e;for(const e of this.initRejectors)e(this.initErr);this.initState=He.FAILED})).finally((()=>{this.initResolvers.clear(),this.initRejectors.clear()}))}initElement(){console.warn("initElement method is not overridden for "+this.constructor.name)}on(e,t){return this.addEventListener(e,(e=>t(e,this))),this}once(e){return new Promise((t=>{this.addEventListener(e,(e=>t([e,this])),{once:!0})}))}}Ve=Ue,Ue.loadedTagNames=new Set,(()=>{const e=customElements.define.bind(customElements);customElements.define=(t,r,s)=>{let n=r;for(;n;){if(n===Ve){Ve.loadStylesheet(t).then((()=>console.info(`Loaded stylesheet for "${t}"`))).catch((()=>console.warn(`Failed to load stylesheet for "${t}". Make sure to have a CSS stylesheet at ${Me(t)}`))).finally((()=>Ve.loadedTagNames.add(t)));break}n=Object.getPrototypeOf(n)}return e(t,r,s)}})();const _e=Ue,ze=Ie.INSTANCE;class Fe extends _e{get isControlsVisible(){return this.hasAttribute("controls-visible")}set isControlsVisible(e){this.toggleAttribute("controls-visible",e)}constructor(){super(),this.transform=new Ce(new Pe(0,0),new xe(30,30),0)}initElement(){this.toggleAttribute("transformable",!0),this.refreshCSSVars();let e=!1,t=!1,r=Pe.ZERO;window.addEventListener("mousedown",(s=>{e=!0,r=Fe.getMouseOffset(s,this).scale(.01).mult(this.transform.dim.getCorner()),this.isControlsVisible=s.target instanceof Node&&this.contains(s.target),t=s.target===this})),window.addEventListener("mousemove",(s=>{t&&e&&(this.transform.center=Fe.CANVAS_BOUNDS.clamp(Fe.getMouseOffset(s,this.parentElement).sub(r)),this.refreshCSSVars())})),window.addEventListener("mouseup",(()=>e=!1));const s=ze.div({widthDir:Fe.WidthResizeDir.NONE,heightDir:Fe.HeightResizeDir.NONE},void 0,"resize-handle").attribute("width-resize-dir",((e,t)=>t.widthDir)).attribute("height-resize-dir",((e,t)=>t.heightDir)).on("mousedown",((e,t)=>t.toggleAttribute("selected",!0))).do((e=>window.addEventListener("mouseup",(()=>e.removeAttribute("selected"))))).do(((e,t)=>window.addEventListener("mousemove",(r=>{if(e.hasAttribute("selected")){const e=Fe.CANVAS_BOUNDS.clamp(Fe.getMouseOffset(r,this.parentElement));let s=this.transform.center;t.widthDir===Fe.WidthResizeDir.LEFT?(s.x=this.transform.right,e.x=ue.clamp(e.x,void 0,s.x-Fe.MIN_WIDTH)):t.widthDir===Fe.WidthResizeDir.RIGHT&&(s.x=this.transform.left,e.x=ue.clamp(e.x,s.x+Fe.MIN_WIDTH)),t.heightDir===Fe.HeightResizeDir.UP?(s.y=this.transform.bottom,e.y=ue.clamp(e.y,void 0,s.y-Fe.MIN_HEIGHT)):t.heightDir===Fe.HeightResizeDir.DOWN&&(s.y=this.transform.top,e.y=ue.clamp(e.y,s.y+Fe.MIN_HEIGHT));const n=Le.fromCorners(s,e);n.dim=n.dim.abs(),t.widthDir!==Fe.WidthResizeDir.NONE&&(this.transform.center.x=n.center.x,this.transform.dim.width=n.dim.width),t.heightDir!==Fe.HeightResizeDir.NONE&&(this.transform.center.y=n.center.y,this.transform.dim.height=n.dim.height),this.refreshCSSVars()}}))));this.append(s.make({widthDir:Fe.WidthResizeDir.LEFT,heightDir:Fe.HeightResizeDir.UP}),s.make({widthDir:Fe.WidthResizeDir.NONE,heightDir:Fe.HeightResizeDir.UP}),s.make({widthDir:Fe.WidthResizeDir.RIGHT,heightDir:Fe.HeightResizeDir.UP}),s.make({widthDir:Fe.WidthResizeDir.LEFT,heightDir:Fe.HeightResizeDir.NONE}),s.make({widthDir:Fe.WidthResizeDir.RIGHT,heightDir:Fe.HeightResizeDir.NONE}),s.make({widthDir:Fe.WidthResizeDir.LEFT,heightDir:Fe.HeightResizeDir.DOWN}),s.make({widthDir:Fe.WidthResizeDir.NONE,heightDir:Fe.HeightResizeDir.DOWN}),s.make({widthDir:Fe.WidthResizeDir.RIGHT,heightDir:Fe.HeightResizeDir.DOWN}))}refreshCSSVars(){this.style.setProperty("--transform-position-x",this.transform.center.x+"%"),this.style.setProperty("--transform-position-y",this.transform.center.y+"%"),this.style.setProperty("--transform-size-width",Math.abs(this.transform.dim.width)+"%"),this.style.setProperty("--transform-size-height",Math.abs(this.transform.dim.height)+"%"),this.style.setProperty("--transform-rotation",this.transform.rotation+"deg")}static getMouseOffset(e,t){const r=Le.fromElement(t);return Pe.fromPoint(e).sub(r.center).div(r.dim.getCorner()).scale(100)}}Fe.CANVAS_BOUNDS=new Le(new Pe(0,0),new xe(100,100)),Fe.MIN_WIDTH=5,Fe.MIN_HEIGHT=5,_e.loadStylesheet("transformable"),function(e){let t,r;!function(e){e.NONE="none",e.LEFT="left",e.RIGHT="right"}(t=e.WidthResizeDir||(e.WidthResizeDir={})),function(e){e.NONE="none",e.UP="up",e.DOWN="down"}(r=e.HeightResizeDir||(e.HeightResizeDir={}))}(Fe||(Fe={}));const We=Fe;customElements.define("transformable-image",class extends We{})})();