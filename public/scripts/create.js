(()=>{"use strict";class t{addStep(t){return this.steps.push(t),this}constructor(e,r,n=[]){this.mold=e instanceof t?()=>e.make():e,this.defaultParameters=r,this.steps=n}make(t={}){const e={...this.defaultParameters,...t},r=this.mold(e);for(const t of this.steps)t(r,e);return r}}!function(t){let e;!function(t){t.resolve=function(t,e,r){return"function"==typeof t?t(e,r):t}}(e=t.DynamicValue||(t.DynamicValue={}))}(t||(t={}));const e=t;var r;!function(t){t.apply=function(t,e){for(const r in e){const n=r;t.style[n]=e[n]}return t}}(r||(r={}));const n=r;class s extends e{copy(){return new s(this.mold,this.defaultParameters,[...this.steps])}id(t){return this.addStep(((r,n)=>r.id=String(e.DynamicValue.resolve(t,r,n))))}classes(...t){return this.addStep(((r,n)=>r.classList.add(...t.map((t=>e.DynamicValue.resolve(t,r,n))).flat(1).flatMap((t=>String(t).split(" "))))))}attribute(t,r){return this.addStep(((n,s)=>{const i=String(e.DynamicValue.resolve(t,n,s));void 0===r?n.toggleAttribute(i,!0):n.setAttribute(i,String(e.DynamicValue.resolve(r,n,s)))}))}attributes(t){return this.addStep(((r,n)=>{for(const s in t)r.setAttribute(s,String(e.DynamicValue.resolve(t[s],r,n)))}))}text(t){return this.addStep(((r,n)=>r.textContent=String(e.DynamicValue.resolve(t,r,n))))}style(t){return this.addStep(((r,s)=>{const i={};for(const n in t){const a=n;i[a]=String(e.DynamicValue.resolve(t[a],r,s))}n.apply(r,i)}))}tooltip(t){return this.addStep(((r,n)=>r.title=String(e.DynamicValue.resolve(t,r,n))))}children(...t){return this.addStep(((e,r)=>{for(const n of t){const t="function"==typeof n?n(e,r):n;t&&("string"==typeof t?e.appendChild(document.createTextNode(t)):t instanceof HTMLElement?e.appendChild(t):e.appendChild(t.make(r)))}}))}on(t,e){return this.addStep((r=>r.addEventListener(t,(t=>e(t,r)))))}once(t,e){return this.addStep((r=>r.addEventListener(t,(t=>e(t,r)),{once:!0})))}onAttributeChanged(t,e){return this.addStep((r=>new MutationObserver((n=>{for(const s of n)if("attributes"===s.type){const n=r.getAttribute(t);n!==s.oldValue&&e(n,s.oldValue,r)}})).observe(r,{attributes:!0,attributeOldValue:!0,attributeFilter:[t]})))}do(t){return this.addStep(t)}static fromTagName(t,e){return new s((()=>document.createElement(t)),void 0===e?{}:e)}}const i=s;class a extends i{copy(){return new a(this.defaultParameters,[...this.steps])}constructor(t,e=[]){super((()=>document.createElement("a")),t,e)}doDownload(t){return this.addStep(((r,n)=>r.download=e.DynamicValue.resolve(t,r,n)?"true":""))}href(t){return this.addStep(((e,r)=>{const n="function"==typeof t?t(e,r):t;e.href=n instanceof URL?n.href:n}))}referrerPolicy(t){return this.addStep(((r,n)=>r.referrerPolicy=e.DynamicValue.resolve(t,r,n)))}openInNewTab(t){return this.addStep(((r,n)=>r.target=e.DynamicValue.resolve(t,r,n)?"_blank":""))}}class o extends i{copy(){return new o(this.mold,this.defaultParameters,[...this.steps])}showControls(t){return this.addStep(((r,n)=>r.controls=e.DynamicValue.resolve(t,r,n)))}doLoop(t){return this.addStep(((r,n)=>r.loop=e.DynamicValue.resolve(t,r,n)))}doMute(t){return this.addStep(((r,n)=>r.muted=e.DynamicValue.resolve(t,r,n)))}rate(t,r=!1){return this.addStep(((n,s)=>{n.playbackRate=e.DynamicValue.resolve(t,n,s),n.preservesPitch=e.DynamicValue.resolve(r,n,s)}))}src(t){return this.addStep(((e,r)=>{const n="function"==typeof t?t(e,r):t;e.src=n instanceof URL?n.href:n}))}}class c extends o{copy(){return new c(this.defaultParameters,[...this.steps])}constructor(t,e=[]){super((()=>document.createElement("audio")),t,e)}}class l extends i{copy(){return new l(this.defaultParameters,[...this.steps])}constructor(t,e=[]){super((()=>document.createElement("base")),t,e)}href(t){return this.addStep(((e,r)=>{const n="function"==typeof t?t(e,r):t;e.href=n instanceof URL?n.href:n}))}openInNewTab(t){return this.addStep(((r,n)=>r.target=e.DynamicValue.resolve(t,r,n)?"_blank":""))}}class u extends i{copy(){return new u(this.defaultParameters,[...this.steps])}constructor(t,e=[]){super((()=>document.createElement("body")),t,e)}}class d extends i{copy(){return new d(this.defaultParameters,[...this.steps])}constructor(t,e=[]){super((()=>document.createElement("br")),t,e)}}class h extends i{copy(){return new h(this.defaultParameters,[...this.steps])}constructor(t,e=[]){super((()=>document.createElement("button")),t,e)}doDisable(t){return this.addStep(((r,n)=>r.disabled=e.DynamicValue.resolve(t,r,n)))}name(t){return this.addStep(((r,n)=>r.name=String(e.DynamicValue.resolve(t,r,n))))}}class m extends i{copy(){return new m(this.defaultParameters,[...this.steps])}constructor(t,e=[]){super((()=>document.createElement("canvas")),t,e)}width(t){return this.addStep(((r,n)=>r.width=Math.floor(e.DynamicValue.resolve(t,r,n))))}height(t){return this.addStep(((r,n)=>r.height=Math.floor(e.DynamicValue.resolve(t,r,n))))}}class p extends i{copy(){return new p(this.defaultParameters,[...this.steps])}constructor(t,e=[]){super((()=>document.createElement("data")),t,e)}value(t){return this.addStep(((r,n)=>r.value=String(e.DynamicValue.resolve(t,r,n))))}}class f extends i{copy(){return new f(this.defaultParameters,[...this.steps])}constructor(t,e=[]){super((()=>document.createElement("datalist")),t,e)}options(...t){return this.children(...t)}}class E extends i{copy(){return new E(this.defaultParameters,[...this.steps])}constructor(t,e=[]){super((()=>document.createElement("dialog")),t,e)}isOpen(t){return this.addStep(((r,n)=>r.open=e.DynamicValue.resolve(t,r,n)))}returnValue(t){return this.addStep(((r,n)=>r.returnValue=String(e.DynamicValue.resolve(t,r,n))))}}class y extends i{copy(){return new y(this.defaultParameters,[...this.steps])}constructor(t,e=[]){super((()=>document.createElement("div")),t,e)}flex(){return this.classes("flex"),new S(this.defaultParameters,this.steps)}flexRows(){return this.classes("rows"),new g(this.defaultParameters,this.steps)}flexColumns(){return this.classes("columns"),new w(this.defaultParameters,this.steps)}}class S extends y{copy(){return new S(this.defaultParameters,[...this.steps])}spacing(t){return this.classes(((r,n)=>e.DynamicValue.resolve(t,r,n)))}wrapItems(t){return this.classes(((r,n)=>e.DynamicValue.resolve(t,r,n)?"wrap":"no-wrap"))}}class g extends S{alignItems(t){return this.classes(((r,n)=>e.DynamicValue.resolve(t,r,n)))}alignContent(t){return this.classes(((r,n)=>e.DynamicValue.resolve(t,r,n)))}}class w extends S{alignItems(t){return this.classes(((r,n)=>e.DynamicValue.resolve(t,r,n)))}alignContent(t){return this.classes(((r,n)=>e.DynamicValue.resolve(t,r,n)))}}class v extends i{copy(){return new v(this.defaultParameters,[...this.steps])}constructor(t,e=[]){super((()=>document.createElement("dl")),t,e)}}class D extends i{copy(){return new D(this.defaultParameters,[...this.steps])}constructor(t,e=[]){super((()=>document.createElement("embed")),t,e)}width(t){return this.addStep(((r,n)=>r.width=Math.floor(e.DynamicValue.resolve(t,r,n)).toString()))}height(t){return this.addStep(((r,n)=>r.height=Math.floor(e.DynamicValue.resolve(t,r,n)).toString()))}src(t){return this.addStep(((e,r)=>{const n="function"==typeof t?t(e,r):t;e.src=n instanceof URL?n.href:n}))}}class R extends i{copy(){return new R(this.defaultParameters,[...this.steps])}constructor(t,e=[]){super((()=>document.createElement("fieldset")),t,e)}name(t){return this.addStep(((r,n)=>r.name=String(e.DynamicValue.resolve(t,r,n))))}}class T extends i{copy(){return new T(this.defaultParameters,[...this.steps])}constructor(t,e=[]){super((()=>document.createElement("form")),t,e)}name(t){return this.addStep(((r,n)=>r.name=String(e.DynamicValue.resolve(t,r,n))))}method(t){return this.addStep(((r,n)=>r.method=String(e.DynamicValue.resolve(t,r,n))))}}!function(t){let e;!function(t){t.POST="post",t.GET="get",t.DIALOG="dialog"}(e=t.Method||(t.Method={}))}(T||(T={}));const b=T;class A extends i{copy(){return new A(this.defaultParameters,[...this.steps])}constructor(t,e=[]){super((()=>document.createElement("head")),t,e)}}class O extends i{copy(){return new O(this.size,this.defaultParameters,[...this.steps])}constructor(t,e,r=[]){super((t=>document.createElement("h"+this.size)),e,r),this.size=t}}const I=O;class N extends i{copy(){return new N(this.defaultParameters,[...this.steps])}constructor(t,e=[]){super((()=>document.createElement("hr")),t,e)}}class C extends i{copy(){return new C(this.defaultParameters,[...this.steps])}constructor(t,e=[]){super((()=>document.createElement("html")),t,e)}}class x extends i{copy(){return new x(this.defaultParameters,[...this.steps])}constructor(t,e=[]){super((()=>document.createElement("iframe")),t,e)}allow(t){return this.addStep(((r,n)=>r.allow=e.DynamicValue.resolve(t,r,n)))}allowFullscreen(t){return this.addStep(((r,n)=>r.allowFullscreen=e.DynamicValue.resolve(t,r,n)))}src(t){return this.addStep(((e,r)=>{const n="function"==typeof t?t(e,r):t;e.src=n instanceof URL?n.href:n}))}}class L extends i{fetchPriority(t){return this.addStep(((r,n)=>r.fetchPriority=e.DynamicValue.resolve(t,r,n)))}}!function(t){let e;!function(t){t.LOW="low",t.HIGH="high",t.AUTO="auto"}(e=t.FetchPriority||(t.FetchPriority={}))}(L||(L={}));const P=L;class V extends P{copy(){return new V(this.defaultParameters,[...this.steps])}constructor(t,e=[]){super((()=>document.createElement("img")),t,e)}alt(t){return this.addStep(((r,n)=>r.alt=String(e.DynamicValue.resolve(t,r,n))))}loadingMode(t){return this.addStep(((r,n)=>r.loading=e.DynamicValue.resolve(t,r,n)))}width(t){return this.addStep(((r,n)=>r.width=Math.floor(e.DynamicValue.resolve(t,r,n))))}height(t){return this.addStep(((r,n)=>r.height=Math.floor(e.DynamicValue.resolve(t,r,n))))}src(t){return this.addStep(((e,r)=>{const n="function"==typeof t?t(e,r):t;e.src=n instanceof URL?n.href:n}))}srcset(...t){return this.addStep(((e,r)=>e.srcset=t.map((t=>"function"==typeof t?t(e,r):t)).map(String).join(",")))}sizes(...t){return this.addStep(((r,n)=>r.sizes=t.map((t=>e.DynamicValue.resolve(t,r,n))).join(",")))}}!function(t){let e;!function(t){t.EAGER="eager",t.LAZY="lazy"}(e=t.LoadingMode||(t.LoadingMode={}))}(V||(V={}));const M=V;class H extends i{copy(){return new H(this.type,this.defaultParameters,[...this.steps])}constructor(t,e,r=[]){super((()=>{const e=document.createElement("input");return e.type=t,e}),e),this.type=t}value(t){return this.addStep(((e,r)=>e.value=H.valueToString(this.type,"function"==typeof t?t(e,r):t)))}name(t){return this.addStep(((r,n)=>r.name=String(e.DynamicValue.resolve(t,r,n))))}isDisabled(t){return this.addStep(((r,n)=>r.disabled=e.DynamicValue.resolve(t,r,n)))}isRequired(t){return this.addStep(((r,n)=>r.required=e.DynamicValue.resolve(t,r,n)))}}!function(t){let e;!function(t){t.BUTTON="button",t.CHECKBOX="checkbox",t.COLOR="color",t.DATE="date",t.DATETIME_LOCAL="datetime-local",t.EMAIL="email",t.FILE="file",t.HIDDEN="hidden",t.IMAGE="image",t.MONTH="month",t.NUMBER="number",t.PASSWORD="password",t.RADIO="radio",t.RANGE="range",t.RESET="reset",t.SEARCH="search",t.SUBMIT="submit",t.TEL="tel",t.TEXT="text",t.TIME="time",t.URL="url",t.WEEK="week"}(e=t.Type||(t.Type={}));const r=Object.freeze({[e.BUTTON]:{fromString:()=>{},toString:()=>""},[e.CHECKBOX]:{fromString:t=>t,toString:t=>t},[e.COLOR]:{fromString:t=>t,toString:t=>t},[e.DATE]:{fromString:t=>{const[e,r,n]=t.split("-").map((t=>Number.parseInt(t)));return{day:n,month:r,year:e}},toString:t=>`${t.year.toString().padStart(4,"0")}-${(t.month+1).toString().padStart(2,"0")}-${t.day.toString().padStart(2,"0")}`},[e.DATETIME_LOCAL]:{fromString:t=>{const[e,r]=t.split("T"),[n,s,i]=e.split("-").map((t=>Number.parseInt(t))),[a,o]=r.split("-").map((t=>Number.parseInt(t)));return new Date(n,s-1,i,a,o)},toString:t=>{let e=t.toISOString();return e.includes(".")&&(e=e.substring(0,e.lastIndexOf("."))),e}},[e.EMAIL]:{fromString:t=>t,toString:t=>t},[e.FILE]:{fromString:t=>t,toString:t=>t},[e.HIDDEN]:{fromString:t=>t,toString:t=>t},[e.IMAGE]:{fromString:()=>{},toString:()=>""},[e.MONTH]:{fromString:t=>{const[e,r]=t.split("-").map((t=>Number.parseInt(t)));return{monthIndex:r-1,year:e}},toString:t=>`${t.year.toString().padStart(4,"0")}-${(t.monthIndex+1).toString().padStart(2,"0")}`},[e.NUMBER]:{fromString:t=>Number.parseFloat(t),toString:t=>t.toString()},[e.PASSWORD]:{fromString:t=>t,toString:t=>t},[e.RADIO]:{fromString:t=>t,toString:t=>t},[e.RANGE]:{fromString:t=>Number.parseFloat(t),toString:t=>t.toString()},[e.RESET]:{fromString:()=>{},toString:()=>""},[e.SEARCH]:{fromString:t=>t,toString:t=>t},[e.SUBMIT]:{fromString:()=>{},toString:()=>""},[e.TEL]:{fromString:t=>t,toString:t=>t},[e.TEXT]:{fromString:t=>t,toString:t=>t},[e.TIME]:{fromString:t=>{const[e,r]=t.split(":").map((t=>Number.parseInt(t)));return{hours:e,minutes:r}},toString:t=>`${t.hours.toString().padStart(2,"0")}:${t.minutes.toString().padStart(2,"0")}`},[e.URL]:{fromString:t=>new URL(t),toString:t=>t.href},[e.WEEK]:{fromString:t=>{const[e,r]=t.split("-W").map((t=>Number.parseInt(t)));return{year:e,week:r}},toString:t=>`${t.year.toString().padStart(4,"0")}-W${t.week.toString().padStart(2,"0")}`}});t.valueToString=function(t,e){return r[t].toString(e)},t.valueFromString=function(t,e){return r[t].fromString(e)},t.DEFAULT_CREATORS=Object.freeze({[e.BUTTON]:t=>new _(e.BUTTON,t),[e.CHECKBOX]:t=>new k(e.CHECKBOX,t),[e.COLOR]:r=>new t(e.COLOR,r),[e.DATE]:t=>new G(e.DATE,t),[e.DATETIME_LOCAL]:t=>new G(e.DATETIME_LOCAL,t),[e.EMAIL]:t=>new z(e.EMAIL,t),[e.FILE]:t=>new z(e.FILE,t),[e.HIDDEN]:t=>new z(e.HIDDEN,t),[e.IMAGE]:t=>new F(t),[e.MONTH]:t=>new G(e.MONTH,t),[e.NUMBER]:t=>new G(e.NUMBER,t),[e.PASSWORD]:t=>new z(e.PASSWORD,t),[e.RADIO]:t=>new k(e.RADIO,t),[e.RANGE]:t=>new G(e.RANGE,t),[e.RESET]:t=>new _(e.RESET,t),[e.SEARCH]:t=>new z(e.SEARCH,t),[e.SUBMIT]:t=>new _(e.SUBMIT,t),[e.TEL]:t=>new z(e.TEL,t),[e.TEXT]:t=>new z(e.TEXT,t),[e.TIME]:t=>new G(e.TIME,t),[e.URL]:t=>new z(e.URL,t),[e.WEEK]:t=>new G(e.WEEK,t)}),t.fromType=function(e,r){return t.DEFAULT_CREATORS[e](r)}}(H||(H={}));const U=H;class _ extends H{copy(){return new _(this.type,this.defaultParameters,[...this.steps])}constructor(t,e,r=[]){super(t,e,r)}text(t){return this.addStep(((r,n)=>r.value=String(e.DynamicValue.resolve(t,r,n))))}}class F extends H{copy(){return new F(this.defaultParameters,[...this.steps])}constructor(t,e=[]){super(H.Type.IMAGE,t,e)}src(t){return this.addStep(((e,r)=>e.src=String("function"==typeof t?t(e,r):t)))}}class z extends H{copy(){return new z(this.type,this.defaultParameters,[...this.steps])}text(t){return this.addStep(((e,r)=>e.value=String("function"==typeof t?t(e,r):t)))}placeholder(t){return this.addStep(((r,n)=>r.placeholder=String(e.DynamicValue.resolve(t,r,n))))}pattern(t){return this.addStep(((e,r)=>e.pattern=("function"==typeof t?t(e,r):t).source))}minLength(t){return this.addStep(((r,n)=>r.minLength=Math.floor(e.DynamicValue.resolve(t,r,n))))}maxLength(t){return this.addStep(((r,n)=>r.maxLength=Math.floor(e.DynamicValue.resolve(t,r,n))))}}class k extends H{copy(){return new k(this.type,this.defaultParameters,[...this.steps])}isChecked(t){return this.addStep(((r,n)=>r.checked=e.DynamicValue.resolve(t,r,n)))}}class G extends H{copy(){return new G(this.type,this.defaultParameters,[...this.steps])}min(t){return this.addStep(((e,r)=>e.min=H.valueToString(this.type,"function"==typeof t?t(e,r):t)))}max(t){return this.addStep(((e,r)=>e.max=H.valueToString(this.type,"function"==typeof t?t(e,r):t)))}step(t){return this.addStep(((r,n)=>r.step=e.DynamicValue.resolve(t,r,n).toString()))}placeholder(t){return this.addStep(((r,n)=>r.placeholder=String(e.DynamicValue.resolve(t,r,n))))}}class j extends i{copy(){return new j(this.defaultParameters,[...this.steps])}constructor(t,e=[]){super((()=>document.createElement("label")),t,e)}for(t){return this.addStep(((e,r)=>{const n="function"==typeof t?t(e,r):t;e.id=n instanceof Element?n.id:String(n)}))}}class W extends i{copy(){return new W(this.defaultParameters,[...this.steps])}constructor(t,e=[]){super((()=>document.createElement("legend")),t,e)}}class B extends i{copy(){return new B(this.defaultParameters,[...this.steps])}constructor(t,e=[]){super((()=>document.createElement("li")),t,e)}}class K extends P{copy(){return new K(this.relationship,this.defaultParameters,[...this.steps])}constructor(t,e,r=[]){super((()=>{const e=document.createElement("link");return e.rel=t,e}),e,r),this.relationship=t}href(t){return this.addStep(((e,r)=>{const n="function"==typeof t?t(e,r):t;e.href=n instanceof URL?n.href:n}))}type(t){return this.addStep(((r,n)=>r.type=e.DynamicValue.resolve(t,r,n)))}media(t){return this.addStep(((e,r)=>{const n="function"==typeof t?t(e,r):t;e.media=n.toString()}))}}!function(t){let e;!function(t){t.ALTERNATE="alternate",t.AUTHOR="author",t.CANONICAL="canonical",t.DNS_PREFETCH="dns-prefetch",t.EXPECT="expect",t.HELP="help",t.ICON="icon",t.LICENSE="license",t.MANIFEST="manifest",t.ME="me",t.MODULE_PRELOAD="modulepreload",t.NEXT="next",t.PING_BACK="pingback",t.PRECONNECT="preconnect",t.PREFETCH="prefetch",t.PRELOAD="preload",t.PRERENDER="prerender",t.PREV="prev",t.PRIVACY_POLICY="privacy-policy",t.SEARCH="search",t.STYLESHEET="stylesheet",t.TERMS_OF_SERVICE="terms-of-service"}(e=t.Relationship||(t.Relationship={})),t.DEFAULT_CREATORS=Object.freeze({[e.ALTERNATE]:r=>new t(e.ALTERNATE,r),[e.AUTHOR]:r=>new t(e.AUTHOR,r),[e.CANONICAL]:r=>new t(e.CANONICAL,r),[e.DNS_PREFETCH]:r=>new t(e.DNS_PREFETCH,r),[e.EXPECT]:r=>new t(e.EXPECT,r),[e.HELP]:r=>new t(e.HELP,r),[e.ICON]:r=>new t(e.ICON,r),[e.LICENSE]:r=>new t(e.LICENSE,r),[e.MANIFEST]:r=>new t(e.MANIFEST,r),[e.ME]:r=>new t(e.ME,r),[e.MODULE_PRELOAD]:t=>new X(e.MODULE_PRELOAD,t),[e.NEXT]:r=>new t(e.NEXT,r),[e.PING_BACK]:r=>new t(e.PING_BACK,r),[e.PRECONNECT]:r=>new t(e.PRECONNECT,r),[e.PREFETCH]:r=>new t(e.PREFETCH,r),[e.PRELOAD]:t=>new X(e.PRELOAD,t),[e.PRERENDER]:r=>new t(e.PRERENDER,r),[e.PREV]:r=>new t(e.PREV,r),[e.PRIVACY_POLICY]:r=>new t(e.PRIVACY_POLICY,r),[e.SEARCH]:r=>new t(e.SEARCH,r),[e.STYLESHEET]:r=>new t(e.STYLESHEET,r),[e.TERMS_OF_SERVICE]:r=>new t(e.TERMS_OF_SERVICE,r)})}(K||(K={}));const $=K;class X extends K{copy(){return new X(this.relationship,this.defaultParameters,[...this.steps])}as(t){return this.addStep(((r,n)=>r.as=e.DynamicValue.resolve(t,r,n)))}}!function(t){let e;!function(t){t.AUDIO="audio",t.DOCUMENT="document",t.EMBED="embed",t.FETCH="fetch",t.FONT="font",t.IMAGE="image",t.OBJECT="object",t.SCRIPT="script",t.STYLE="style",t.TRACK="track",t.VIDEO="video",t.WORKER="worker"}(e=t.ContentType||(t.ContentType={}))}(X||(X={}));class Y extends i{copy(){return new Y(this.defaultParameters,[...this.steps])}constructor(t,e=[]){super((()=>document.createElement("menu")),t,e)}}class q extends i{copy(){return new q(this.name,this.defaultParameters,[...this.steps])}constructor(t,e,r=[]){super((()=>{const e=document.createElement("meta");return e.name=t,e}),e,r),this.name=t}content(t){return this.addStep(((r,n)=>r.content=[e.DynamicValue.resolve(t,r,n)].flat().join(",")))}}!function(t){let e,r;!function(t){t.AUTHOR="author",t.DESCRIPTION="description",t.GENERATOR="generator",t.KEYWORDS="keywords",t.REFERRER="referrer",t.THEME_COLOR="theme-color"}(e=t.Name||(t.Name={})),function(t){t.ORIGIN="origin",t.NO_REFERRER_WHEN_DOWNGRADE="no-referrer-when-downgrade",t.ORIGIN_WHEN_CROSS_ORIGIN="origin-when-cross-origin",t.SAME_ORIGIN="same-origin",t.STRICT_ORIGIN="strict-origin",t.STRICT_ORIGIN_WHEN_CROSS_ORIGIN="strict-origin-when-cross-origin",t.UNSAFE_URL="unsafe-URL"}(r||(r={})),t.DEFAULT_CREATORS=Object.freeze({[e.AUTHOR]:r=>new t(e.AUTHOR,r),[e.DESCRIPTION]:r=>new t(e.DESCRIPTION,r),[e.GENERATOR]:r=>new t(e.GENERATOR,r),[e.KEYWORDS]:r=>new t(e.KEYWORDS,r),[e.REFERRER]:r=>new t(e.REFERRER,r),[e.THEME_COLOR]:r=>new t(e.THEME_COLOR,r)})}(q||(q={}));const Z=q;class Q extends i{copy(){return new Q(this.defaultParameters,[...this.steps])}constructor(t,e=[]){super((()=>document.createElement("meter")),t,e)}high(t){return this.addStep(((r,n)=>r.high=e.DynamicValue.resolve(t,r,n)))}low(t){return this.addStep(((r,n)=>r.low=e.DynamicValue.resolve(t,r,n)))}min(t){return this.addStep(((r,n)=>r.min=e.DynamicValue.resolve(t,r,n)))}max(t){return this.addStep(((r,n)=>r.max=e.DynamicValue.resolve(t,r,n)))}optimum(t){return this.addStep(((r,n)=>r.optimum=e.DynamicValue.resolve(t,r,n)))}value(t){return this.addStep(((r,n)=>r.value=e.DynamicValue.resolve(t,r,n)))}}class J extends i{copy(){return new J(this.defaultParameters,[...this.steps])}constructor(t,e=[]){super((()=>document.createElement("object")),t,e)}name(t){return this.addStep(((r,n)=>r.name=e.DynamicValue.resolve(t,r,n)))}data(t){return this.addStep(((e,r)=>{const n="function"==typeof t?t(e,r):t;e.data=n instanceof URL?n.href:n}))}type(t){return this.addStep(((r,n)=>r.type=e.DynamicValue.resolve(t,r,n)))}width(t){return this.addStep(((r,n)=>r.width=Math.floor(e.DynamicValue.resolve(t,r,n)).toString()))}height(t){return this.addStep(((r,n)=>r.height=Math.floor(e.DynamicValue.resolve(t,r,n)).toString()))}}class tt extends i{copy(){return new tt(this.defaultParameters,[...this.steps])}constructor(t,e=[]){super((()=>document.createElement("optgroup")),t,e)}isDisabled(t){return this.addStep(((r,n)=>r.disabled=e.DynamicValue.resolve(t,r,n)))}label(t){return this.addStep(((r,n)=>r.label=e.DynamicValue.resolve(t,r,n)))}options(...t){return this.children(...t)}}class et extends i{copy(){return new et(this.value,this.defaultParameters,[...this.steps])}constructor(t,e,r=[]){super((()=>{const e=document.createElement("option");return e.value=e.text=t,e}),e,r),this.value=t}text(t){return this.addStep(((r,n)=>r.text=String(e.DynamicValue.resolve(t,r,n))))}}class rt extends i{copy(){return new rt(this.defaultParameters,[...this.steps])}constructor(t,e=[]){super((()=>document.createElement("ol")),t,e)}isReversed(t){return this.addStep(((r,n)=>r.reversed=e.DynamicValue.resolve(t,r,n)))}start(t){return this.addStep(((r,n)=>r.start=e.DynamicValue.resolve(t,r,n)))}type(t){return this.addStep(((r,n)=>r.type=e.DynamicValue.resolve(t,r,n)))}}!function(t){let e;!function(t){t.DECIMAL_NUMBERS="1",t.LOWERCASE_LETTERS="a",t.UPPERCASE_LETTERS="A",t.LOWERCASE_ROMAN_NUMERALS="i",t.UPPERCASE_ROMAN_NUMERALS="I"}(e=t.Type||(t.Type={}))}(rt||(rt={}));const nt=rt;class st extends i{copy(){return new st(this.defaultParameters,[...this.steps])}constructor(t,e=[]){super((()=>document.createElement("output")),t,e)}name(t){return this.addStep(((r,n)=>r.name=e.DynamicValue.resolve(t,r,n)))}value(t){return this.addStep(((r,n)=>r.value=e.DynamicValue.resolve(t,r,n)))}for(...t){return this.addStep(((e,r)=>e.setAttribute("for",t.map((t=>"function"==typeof t?t(e,r):t)).map((t=>t instanceof Element?t.id:t)).join(" "))))}}class it extends i{copy(){return new it(this.defaultParameters,[...this.steps])}constructor(t,e=[]){super((()=>document.createElement("p")),t,e)}}class at extends i{copy(){return new at(this.defaultParameters,[...this.steps])}constructor(t,e=[]){super((()=>document.createElement("picture")),t,e)}}class ot extends i{copy(){return new ot(this.defaultParameters,[...this.steps])}constructor(t,e=[]){super((()=>document.createElement("pre")),t,e)}}class ct{static clamp(t,e=-1/0,r=1/0){return t<e?e:t>r?r:t}static absDiff(t,e){return Math.abs(t-e)}static degToRad(t){return t/360*Math.PI*2}static radToDeg(t){return t/Math.PI/2*360}}class lt extends i{copy(){return new lt(this.defaultParameters,[...this.steps])}constructor(t,e=[]){super((()=>document.createElement("progress")),t,e)}max(t){return this.addStep(((r,n)=>r.max=Math.max(0,e.DynamicValue.resolve(t,r,n))))}value(t){return this.addStep(((r,n)=>r.value=ct.clamp(e.DynamicValue.resolve(t,r,n),0,r.max)))}}class ut extends P{copy(){return new ut(this.defaultParameters,[...this.steps])}constructor(t,e=[]){super((()=>document.createElement("script")),t,e)}isAsync(t){return this.addStep(((r,n)=>r.async=e.DynamicValue.resolve(t,r,n)))}src(t){return this.addStep(((e,r)=>{const n="function"==typeof t?t(e,r):t;e.src=n instanceof URL?n.href:n}))}type(t){return this.addStep(((r,n)=>r.type=e.DynamicValue.resolve(t,r,n)))}}!function(t){let e;!function(t){t.DEFAULT="",t.IMPORT_MAP="importmap",t.MODULE="module",t.DATA="data"}(e=t.Type||(t.Type={}))}(ut||(ut={}));const dt=ut;class ht extends i{copy(){return new ht(this.defaultParameters,[...this.steps])}constructor(t,e=[]){super((()=>document.createElement("select")),t,e)}isDisabled(t){return this.addStep(((r,n)=>r.disabled=e.DynamicValue.resolve(t,r,n)))}isRequired(t){return this.addStep(((r,n)=>r.required=e.DynamicValue.resolve(t,r,n)))}name(t){return this.addStep(((r,n)=>r.name=e.DynamicValue.resolve(t,r,n)))}options(...t){return this.addStep(((e,r)=>t.forEach((t=>e.add(t.make(r))))))}value(t){return this.addStep(((r,n)=>r.value=e.DynamicValue.resolve(t,r,n)))}onValueChanged(t){return this.on("change",((e,r)=>t(r.value,e,r)))}onceValueChanged(t){return this.once("change",((e,r)=>t(r.value,e,r)))}}class mt extends i{copy(){return new mt(this.defaultParameters,[...this.steps])}constructor(t,e=[]){super((()=>document.createElement("source")),t,e)}type(t){return this.addStep(((r,n)=>r.type=e.DynamicValue.resolve(t,r,n)))}width(t){return this.addStep(((r,n)=>r.width=Math.floor(e.DynamicValue.resolve(t,r,n))))}height(t){return this.addStep(((r,n)=>r.height=Math.floor(e.DynamicValue.resolve(t,r,n))))}src(t){return this.addStep(((e,r)=>{const n="function"==typeof t?t(e,r):t;e.src=n instanceof URL?n.href:n}))}srcset(...t){return this.addStep(((e,r)=>e.srcset=t.map((t=>"function"==typeof t?t(e,r):t)).map(String).join(",")))}sizes(...t){return this.addStep(((r,n)=>r.sizes=t.map((t=>e.DynamicValue.resolve(t,r,n))).join(",")))}}const pt=mt;class ft extends i{copy(){return new ft(this.defaultParameters,[...this.steps])}constructor(t,e=[]){super((()=>document.createElement("span")),t,e)}}class Et extends i{copy(){return new Et(this.defaultParameters,[...this.steps])}constructor(t,e=[]){super((()=>document.createElement("style")),t,e)}idDisabled(t){return this.addStep(((r,n)=>r.disabled=e.DynamicValue.resolve(t,r,n)))}media(t){return this.addStep(((e,r)=>{const n="function"==typeof t?t(e,r):t;e.media=n.toString()}))}}class yt extends i{copy(){return new yt(this.defaultParameters,[...this.steps])}constructor(t,e=[]){super((()=>document.createElement("table")),t,e)}caption(t){return this.addStep(((r,n)=>{const s=document.createElement("caption");s.textContent=e.DynamicValue.resolve(t,r,n),r.caption=s}))}}class St extends i{copy(){return new St(this.defaultParameters,[...this.steps])}constructor(t,e=[]){super((()=>document.createElement("caption")),t,e)}}class gt extends i{copy(){return new gt(this.defaultParameters,[...this.steps])}constructor(t,e=[]){super((()=>document.createElement("textarea")),t,e)}isDisabled(t){return this.addStep(((r,n)=>r.disabled=e.DynamicValue.resolve(t,r,n)))}isRequired(t){return this.addStep(((r,n)=>r.required=e.DynamicValue.resolve(t,r,n)))}name(t){return this.addStep(((r,n)=>r.name=String(e.DynamicValue.resolve(t,r,n))))}text(t){return this.addStep(((r,n)=>r.value=String(e.DynamicValue.resolve(t,r,n))))}numRows(t){return this.addStep(((r,n)=>r.rows=Math.floor(e.DynamicValue.resolve(t,r,n))))}numColumns(t){return this.addStep(((r,n)=>r.rows=Math.floor(e.DynamicValue.resolve(t,r,n))))}minLength(t){return this.addStep(((r,n)=>r.minLength=Math.floor(e.DynamicValue.resolve(t,r,n))))}maxLength(t){return this.addStep(((r,n)=>r.maxLength=Math.floor(e.DynamicValue.resolve(t,r,n))))}}class wt extends i{copy(){return new wt(this.defaultParameters,[...this.steps])}constructor(t,e=[]){super((()=>document.createElement("title")),t,e)}text(t){return this.addStep(((r,n)=>r.text=String(e.DynamicValue.resolve(t,r,n))))}}class vt extends i{copy(){return new vt(this.defaultParameters,[...this.steps])}constructor(t,e=[]){super((()=>document.createElement("track")),t,e)}src(t){return this.addStep(((e,r)=>{const n="function"==typeof t?t(e,r):t;e.src=n instanceof URL?n.href:n}))}isDefault(t){return this.addStep(((r,n)=>r.default=e.DynamicValue.resolve(t,r,n)))}kind(t){return this.addStep(((r,n)=>r.kind=e.DynamicValue.resolve(t,r,n)))}label(t){return this.addStep(((r,n)=>r.label=e.DynamicValue.resolve(t,r,n)))}sourceLanguage(t){return this.addStep(((e,r)=>{const n="function"==typeof t?t(e,r):t;e.srclang="string"==typeof n?n:n.language}))}}!function(t){let e;!function(t){t.SUBTITLES="subtitles",t.CAPTIONS="captions",t.CHAPTERS="chapters",t.METADATA="metadata"}(e=t.Kind||(t.Kind={}))}(vt||(vt={}));const Dt=vt;class Rt extends i{copy(){return new Rt(this.defaultParameters,[...this.steps])}constructor(t,e=[]){super((()=>document.createElement("ul")),t,e)}type(t){return this.style({listStyleType:t})}}!function(t){let e;!function(t){t.NONE="none",t.DISC="disc",t.CIRCLE="circle",t.SQUARE="square",t.DECIMAL="decimal"}(e=t.Type||(t.Type={}))}(Rt||(Rt={}));const Tt=Rt;class bt extends o{copy(){return new bt(this.defaultParameters,[...this.steps])}constructor(t,e=[]){super((()=>document.createElement("video")),t,e)}isPIPDisabled(t){return this.addStep(((r,n)=>r.disablePictureInPicture=e.DynamicValue.resolve(t,r,n)))}}class At{constructor(){this.input=U.DEFAULT_CREATORS,this.link=$.DEFAULT_CREATORS,this.meta=Z.DEFAULT_CREATORS}a(t,e,r){let n=new a(t);return void 0!==e&&(n=n.href(e)),void 0!==r&&(n=n.openInNewTab(r)),n}audio(t,e,r){let n=new c(t);return void 0!==e&&(n=n.src(e)),void 0!==r&&(n=n.doLoop(r)),n}base(t,e,r){let n=new l(t);return void 0!==e&&(n=n.href(e)),void 0!==r&&(n=n.openInNewTab(r)),n}body(t){return new u(t)}br(t){return new d(t)}button(t,e,r){let n=new h(t);return void 0!==e&&(n=n.on("click",e)),void 0!==r&&(n=n.doDisable(r)),n}canvas(t,e,r){let n=new m(t);return void 0!==e&&(n=n.width(e)),void 0!==r&&(n=n.height(r)),n}data(t,e){let r=new p(t);return void 0!==e&&(r=r.value(e)),r}datalist(t,...e){let r=new f(t);return e&&(r=r.options(...e)),r}dialog(t,e){let r=new E(t);return void 0!==e&&(r=r.isOpen(e)),r}div(t,e,...r){let n=new y(t);return void 0!==e&&(n=n.id(e)),r&&(n=n.classes(...r)),n}dl(t){return new v(t)}embed(t){return new D(t)}fieldset(t,e){let r=new R(t);return void 0!==e&&(r=r.name(e)),r}form(t,e,r){let n=new b(t);return void 0!==e&&n.name(e),void 0!==r&&n.method(r),n}head(t){return new A(t)}h1(t,e){let r=new I(1,t);return void 0!==e&&(r=r.text(e)),r}h2(t,e){let r=new I(2,t);return void 0!==e&&(r=r.text(e)),r}h3(t,e){let r=new I(3,t);return void 0!==e&&(r=r.text(e)),r}h4(t,e){let r=new I(4,t);return void 0!==e&&(r=r.text(e)),r}h5(t,e){let r=new I(5,t);return void 0!==e&&(r=r.text(e)),r}h6(t,e){let r=new I(6,t);return void 0!==e&&(r=r.text(e)),r}hr(t){return new N(t)}html(t){return new C(t)}iframe(t,e){let r=new x(t);return void 0!==e&&(r=r.src(e)),r}img(t,e,r){let n=new M(t);return void 0!==e&&(n=n.src(e)),void 0!==r&&(n=n.alt(r)),n}label(t,e){let r=new j(t);return void 0!==e&&(r=r.for(e)),r}legend(t){return new W(t)}li(t){return new B(t)}menu(t){return new Y(t)}meter(t){return new Q(t)}object(t,e,r){let n=new J(t);return void 0!==e&&(n=n.type(e)),void 0!==r&&(n=n.data(r)),n}optgroup(t,e,...r){let n=new tt(t);return void 0!==e&&(n=n.label(e)),n.options(...r)}option(t,e,r){let n=new et(e,t);return void 0!==r&&(n=n.text(r)),n}ol(t,e,r){let n=new nt(t);return void 0!==e&&(n=n.type(e)),void 0!==r&&(n=n.isReversed(r)),n}output(t,e,...r){let n=new st(t);return void 0!==e&&(n=n.value(e)),r&&(n=n.for(...r)),n}p(t,e){let r=new it(t);return void 0!==e&&(r=r.text(e)),r}picture(t){return new at(t)}pre(t){return new ot(t)}progress(t,e,r){let n=new lt(t);return void 0!==e&&(n=n.value(e)),void 0!==r&&(n=n.max(r)),n}script(t,e,r){let n=new dt(t);return void 0!==e&&(n=n.type(e)),void 0!==r&&(n=n.src(r)),n}select(t,...e){return new ht(t).options(...e)}source(t,e,r){let n=new pt(t);return void 0!==e&&(n=n.type(e)),void 0!==r&&(n=n.src(r)),n}span(t,e){let r=new ft(t);return void 0!==e&&(r=r.style(e)),r}style(t){return new Et(t)}table(t){return new yt(t)}caption(t){return new St(t)}textarea(t,e){let r=new gt(t);return void 0!==e&&(r=r.text(e)),r}title(t,e){let r=new wt(t);return void 0!==e&&(r=r.text(e)),r}track(t,e,r){let n=new Dt(t);return void 0!==e&&(n=n.kind(e)),void 0!==r&&(n=n.src(r)),n}ul(t,e){let r=new Tt(t);return void 0!==e&&(r=r.type(e)),r}video(t){return new bt(t)}}At.INSTANCE=new At;const Ot=At;class It extends Error{constructor(t){t=t?.trim(),super(t?"missing attribute: "+t:"missing attribute")}}var Nt;!function(t){t.cast=function(t,e){return r=>{if(!t(r))throw new TypeError(e?`value ${r} is not of type ${e}`:`value ${r} is of an invalid type`);return r}}}(Nt||(Nt={}));const Ct=Nt,xt=/^-?[0-9]+(\.[0-9]+)?(e-?[0-9]+)?$/;var Lt,Pt;function Vt(t){return(e,r)=>r.addInitializer((function(){Reflect.defineProperty(this,r.name,{configurable:!1,get:()=>this.hasAttribute(t),set:e=>this.toggleAttribute(t,e)})}))}function Mt(t,e,r){return e.toString===Object.prototype.toString&&(e.toString=String),(n,s)=>s.addInitializer((function(){const n=Reflect.get(this,s.name);Reflect.defineProperty(this,s.name,{configurable:!1,get:()=>{const n=this.getAttribute(t);if(void 0===r&&null===n)throw new It(t);return null===n?r:e.fromString(n)},set:r=>{null===r?this.removeAttribute(t):this.setAttribute(t,e.toString(r))}}),this.addEventListener("beforeinit",(()=>{this.hasAttribute(t)||(null===n?this.removeAttribute(t):this.setAttribute(t,e.toString(n)))}))}))}function Ht(t,e,r){return Mt(t,{fromString:Ct.cast(function(t){const e=Object.keys(t).filter((t=>!xt.test(t))).map((e=>t[e]));return t=>e.includes(t)}(e))},r)}function Ut(t,e){const r=Object.values(e);return Mt(t,{fromString:t=>{const e=new Set;for(;0!==t.length;){const n=r.find((e=>t.startsWith(e)));if(void 0===n)throw new TypeError(`"${t}" does not start with an enum member`);e.add(n),t=t.substring(n.length+1)}return e},toString:t=>[...t.values()].join(" ")})}!function(t){t[t.PENDING=0]="PENDING",t[t.INITIALIZED=1]="INITIALIZED",t[t.FAILED=2]="FAILED"}(Pt||(Pt={}));class _t extends HTMLElement{constructor(){super(...arguments),this.initState=Pt.PENDING,this.initResolvers=new Set,this.initRejectors=new Set}static loadStylesheet(t){return this.loadedTagNames.has(t)?Promise.resolve():new Promise(((e,r)=>{const n=document.createElement("link");n.rel="stylesheet",n.addEventListener("load",(()=>e())),n.addEventListener("error",r),n.href=Lt.getStyleSheetHref(t),window.addEventListener("DOMContentLoaded",(()=>document.head.appendChild(n)))}))}onceInitialized(){const{promise:t,resolve:e,reject:r}=Promise.withResolvers();switch(this.initState){case Pt.PENDING:this.initResolvers.add(e),this.initRejectors.add(r);break;case Pt.INITIALIZED:e(this);break;case Pt.FAILED:r(this.initErr)}return t}connectedCallback(){this.dispatchEvent(new Event("beforeinit")),(this.initElement()??Promise.resolve()).then((()=>{for(const t of this.initResolvers)t(this);this.initState=Pt.INITIALIZED})).catch((t=>{this.initErr=t;for(const t of this.initRejectors)t(this.initErr);this.initState=Pt.FAILED})).finally((()=>{this.initResolvers.clear(),this.initRejectors.clear()}))}initElement(){console.warn("initElement method is not overridden for "+this.constructor.name)}on(t,e){return this.addEventListener(t,(t=>e(t,this))),this}once(t){return new Promise((e=>{this.addEventListener(t,(t=>e([t,this])),{once:!0})}))}onAttributeChanged(t,e,r=!1){if("string"==typeof t)new MutationObserver((r=>{for(const n of r)if("attributes"===n.type){const r=this.getAttribute(t);r!==n.oldValue&&e(r,n.oldValue,this)}})).observe(this,{attributes:!0,attributeOldValue:!0,attributeFilter:[t]}),r&&e(this.getAttribute(t),null,this);else for(const n of t)this.onAttributeChanged(n,e,r)}static getStyleSheetHref(t){if(!this.CUSTOM_TAG_NAME_REGEX.test(t))throw new SyntaxError(`name "${t}" does not match ${this.CUSTOM_TAG_NAME_REGEX}`);return`/styles/custom-elements/${t}.css`}}Lt=_t,_t.loadedTagNames=new Set,(()=>{const t=customElements.define.bind(customElements);customElements.define=(e,r,n)=>{let s=r;for(;s;){if(s===Lt){Lt.loadStylesheet(e).then((()=>console.info(`Loaded stylesheet for "${e}"`))).catch((()=>console.warn(`Failed to load stylesheet for "${e}". Make sure to have a CSS stylesheet at ${Lt.getStyleSheetHref(e)}`))).finally((()=>Lt.loadedTagNames.add(e)));break}s=Object.getPrototypeOf(s)}return t(e,r,n)}})(),_t.CUSTOM_TAG_NAME_REGEX=/^[a-z]+(-[a-z]+)*$/,_t||(_t={});const Ft=_t;class zt{constructor(t,e){this.x=t,this.y=e}add(t){return new zt(this.x+t.x,this.y+t.y)}sub(t){return new zt(this.x-t.x,this.y-t.y)}mult(t,e=zt.VectorMultKind.HADAMARD){switch(e){case zt.VectorMultKind.DOT:return this.x*t.x+this.y*t.y;case zt.VectorMultKind.HADAMARD:return new zt(this.x*t.x,this.y*t.y);default:throw new Error("invalid vector multiplication type: "+e)}}div(t){return new zt(this.x/t.x,this.y/t.y)}scale(t){return new zt(this.x*t,this.y*t)}magnitude(){return Math.sqrt(this.mult(this,zt.VectorMultKind.DOT))}normalized(){return this.copy().scale(1/this.magnitude())}heading(){return Math.atan2(this.y,this.x)}rotate(t){return zt.fromPolar(this.heading()+t,this.magnitude())}equals(t){return this.x===t.x&&this.y===t.y}copy(){return new zt(this.x,this.y)}static fromPoint(t){return new zt(t.x,t.y)}static fromPolar(t,e){return new zt(Math.cos(t)*e,Math.sin(t)*e)}}zt.ZERO=new zt(0,0),function(t){let e;!function(t){t[t.DOT=0]="DOT",t[t.HADAMARD=1]="HADAMARD"}(e=t.VectorMultKind||(t.VectorMultKind={}))}(zt||(zt={}));const kt=zt;class Gt{get area(){return this.width*this.height}constructor(t,e){this.width=t,this.height=e}scale(t){return new Gt(this.width*t,this.height*t)}mult(t){return new Gt(this.width*t.width,this.height*t.height)}div(t){return new Gt(this.width/t.width,this.height/t.height)}abs(){return new Gt(Math.abs(this.width),Math.abs(this.height))}getCorner(){return new kt(this.width,this.height)}equals(t){return this.width===t.width&&this.height===t.height}copy(){return new Gt(this.width,this.height)}static fromSize(t){return new Gt(t.width,t.height)}static fromCorner(t){return new Gt(t.x,t.y)}}class jt{constructor(t,e){this.center=t,this.dim=e}get left(){return this.center.x-this.dim.width/2}get right(){return this.center.x+this.dim.width/2}get top(){return this.center.y-this.dim.height/2}get bottom(){return this.center.y+this.dim.height/2}get topLeft(){return new kt(this.left,this.top)}get topRight(){return new kt(this.right,this.top)}get bottomLeft(){return new kt(this.left,this.bottom)}get bottomRight(){return new kt(this.right,this.bottom)}contains(t){return t.x>=this.left&&t.x<=this.right&&t.y>=this.top&&t.y<=this.bottom}clamp(t){return new kt(ct.clamp(t.x,this.left,this.right),ct.clamp(t.y,this.top,this.bottom))}projectOntoPerimeter(t){return new kt(t.x<this.center.x?this.left:this.right,t.y<this.center.y?this.top:this.bottom)}copy(){return new jt(this.center.copy(),this.dim.copy())}static fromCorners(t,e){const r=new kt(Math.min(t.x,e.x),Math.min(t.y,e.y)),n=new kt(Math.max(t.x,e.x),Math.max(t.y,e.y));return new jt(r.add(n).scale(.5),Gt.fromCorner(n.sub(r)))}static fromElement(t){const e=t.getBoundingClientRect();return new jt(new kt(e.x+e.width/2,e.y+e.height/2),Gt.fromSize(e))}}class Wt extends jt{constructor(t,e,r){super(t,e),this.rotation=r}get topLeft(){return this.toGlobalSpace({x:-.5,y:-.5})}get topRight(){return this.toGlobalSpace({x:.5,y:-.5})}get bottomLeft(){return this.toGlobalSpace({x:-.5,y:.5})}get bottomRight(){return this.toGlobalSpace({x:.5,y:.5})}toLocalSpace(t){return kt.fromPoint(t).sub(this.center).rotate(-this.rotation).div(this.dim.getCorner())}toGlobalSpace(t){return kt.fromPoint(t).mult(this.dim.getCorner()).rotate(this.rotation).add(this.center)}copy(){return new Wt(this.center.copy(),this.dim.copy(),this.rotation)}}var Bt=function(t,e,r,n,s,i){function a(t){if(void 0!==t&&"function"!=typeof t)throw new TypeError("Function expected");return t}for(var o,c=n.kind,l="getter"===c?"get":"setter"===c?"set":"value",u=!e&&t?n.static?t:t.prototype:null,d=e||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),h=!1,m=r.length-1;m>=0;m--){var p={};for(var f in n)p[f]="access"===f?{}:n[f];for(var f in n.access)p.access[f]=n.access[f];p.addInitializer=function(t){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(t||null))};var E=(0,r[m])("accessor"===c?{get:d.get,set:d.set}:d[l],p);if("accessor"===c){if(void 0===E)continue;if(null===E||"object"!=typeof E)throw new TypeError("Object expected");(o=a(E.get))&&(d.get=o),(o=a(E.set))&&(d.set=o),(o=a(E.init))&&s.unshift(o)}else(o=a(E))&&("field"===c?s.unshift(o):d[l]=o)}u&&Object.defineProperty(u,n.name,d),h=!0},Kt=function(t,e,r){for(var n=arguments.length>2,s=0;s<e.length;s++)r=n?e[s].call(t,r):e[s].call(t);return n?r:void 0};const $t=Ot.INSTANCE;let Xt=(()=>{var t;let e,r,n=Ft,s=[],i=[],a=[],o=[];return t=class extends n{constructor(){super(),this.transform=new Wt(new kt(0,0),new Gt(.25,.25),0),this.isControlsVisible=Kt(this,s,!1),this.lockAspectRatio=(Kt(this,i),Kt(this,a,!1)),Kt(this,o)}initElement(){this.toggleAttribute("transformable",!0),this.refreshCSSVars();let e=!1,r=!1,n=kt.ZERO;window.addEventListener("mousedown",(s=>{e=!0,n=t.getMouseOffset(s,this).div(t.CANVAS_BOUNDS.dim.getCorner()).mult(this.transform.dim.getCorner()),this.isControlsVisible=s.target instanceof Node&&this.contains(s.target),r=s.target===this})),window.addEventListener("mousemove",(s=>{r&&e&&(this.transform.center=t.CANVAS_BOUNDS.clamp(t.getMouseOffset(s,this.parentElement).sub(n)),this.dispatchEvent(new Event("move")),this.refreshCSSVars())})),window.addEventListener("mouseup",(()=>e=!1));const s=$t.div({widthDir:t.WidthResizeDir.NONE,heightDir:t.HeightResizeDir.NONE},void 0,"resize-handle").attribute("width-resize-dir",((t,e)=>e.widthDir)).attribute("height-resize-dir",((t,e)=>e.heightDir)).on("mousedown",((t,e)=>{e.toggleAttribute("selected",!0),document.body.style.cursor=e.style.cursor,this.style.cursor=e.style.cursor})).do((t=>window.addEventListener("mouseup",(()=>{t.removeAttribute("selected"),document.body.style.cursor="",this.style.cursor=""})))).do(((e,r)=>window.addEventListener("mousemove",(n=>{if(e.hasAttribute("selected")){const e=t.CANVAS_BOUNDS.clamp(t.getMouseOffset(n,this.parentElement)),s=this.transform.toLocalSpace(e),i=kt.ZERO.copy();r.widthDir===t.WidthResizeDir.LEFT?(i.x=.5,s.x=Math.min(s.x,i.x-t.MIN_WIDTH/this.transform.dim.width)):r.widthDir===t.WidthResizeDir.RIGHT&&(i.x=-.5,s.x=Math.max(s.x,i.x+t.MIN_WIDTH/this.transform.dim.width)),r.heightDir===t.HeightResizeDir.UP?(i.y=.5,s.y=Math.min(s.y,i.y-t.MIN_HEIGHT/this.transform.dim.height)):r.heightDir===t.HeightResizeDir.DOWN&&(i.y=-.5,s.y=Math.max(s.y,i.y+t.MIN_HEIGHT/this.transform.dim.height));const a=this.transform.dim.width/this.transform.dim.height,o=jt.fromCorners(i,s);r.widthDir===t.WidthResizeDir.NONE?(o.dim.width=this.lockAspectRatio?o.dim.height*a:1,o.center.x=0):r.heightDir===t.HeightResizeDir.NONE&&(o.dim.height=this.lockAspectRatio?o.dim.width/a:1,o.center.y=0);const c=this.transform.toGlobalSpace(o.center);t.CANVAS_BOUNDS.clamp(c),this.transform.rotation=this.transform.rotation,this.transform.center=c,this.transform.dim=o.dim.mult(this.transform.dim),this.dispatchEvent(new Event("resize")),this.refreshCSSVars()}})))).do(((e,r)=>this.addEventListener("rotate",(()=>{const n=t.getHeading(r.widthDir,r.heightDir)+this.transform.rotation,s=Math.round(n/(Math.PI/4)+4)%4;e.style.cursor=["ew-resize","nwse-resize","ns-resize","nesw-resize"][s]}))));this.append(s.make({widthDir:t.WidthResizeDir.LEFT,heightDir:t.HeightResizeDir.UP}),s.make({widthDir:t.WidthResizeDir.NONE,heightDir:t.HeightResizeDir.UP}),s.make({widthDir:t.WidthResizeDir.RIGHT,heightDir:t.HeightResizeDir.UP}),s.make({widthDir:t.WidthResizeDir.LEFT,heightDir:t.HeightResizeDir.NONE}),s.make({widthDir:t.WidthResizeDir.RIGHT,heightDir:t.HeightResizeDir.NONE}),s.make({widthDir:t.WidthResizeDir.LEFT,heightDir:t.HeightResizeDir.DOWN}),s.make({widthDir:t.WidthResizeDir.NONE,heightDir:t.HeightResizeDir.DOWN}),s.make({widthDir:t.WidthResizeDir.RIGHT,heightDir:t.HeightResizeDir.DOWN})),this.dispatchEvent(new Event("rotate")),this.append($t.div({},void 0,"rotate-handle-line").make(),$t.p({},"refresh").classes("icon","rotate-handle").style({display:"none"}).on("mousedown",((t,e)=>e.toggleAttribute("selected",!0))).do((t=>window.addEventListener("mouseup",(()=>t.removeAttribute("selected"))))).do((e=>window.addEventListener("mousemove",(r=>{if(e.hasAttribute("selected")){const e=t.getMouseOffset(r,this.parentElement);this.transform.rotation=e.sub(this.transform.center).heading()+Math.PI/2,this.dispatchEvent(new Event("rotate")),this.refreshCSSVars()}})))).make())}refreshCSSVars(){this.style.setProperty("--transform-position-x",100*this.transform.center.x+"%"),this.style.setProperty("--transform-position-y",100*this.transform.center.y+"%"),this.style.setProperty("--transform-size-width",100*Math.abs(this.transform.dim.width)+"%"),this.style.setProperty("--transform-size-height",100*Math.abs(this.transform.dim.height)+"%"),this.style.setProperty("--transform-rotation",this.transform.rotation+"rad")}static getMouseOffset(t,e){const r=jt.fromElement(e);return kt.fromPoint(t).sub(r.center).div(r.dim.getCorner())}},(()=>{const c="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;e=[Vt("controls-visible")],r=[Vt("lock-aspect-ratio")],Bt(null,null,e,{kind:"field",name:"isControlsVisible",static:!1,private:!1,access:{has:t=>"isControlsVisible"in t,get:t=>t.isControlsVisible,set:(t,e)=>{t.isControlsVisible=e}},metadata:c},s,i),Bt(null,null,r,{kind:"field",name:"lockAspectRatio",static:!1,private:!1,access:{has:t=>"lockAspectRatio"in t,get:t=>t.lockAspectRatio,set:(t,e)=>{t.lockAspectRatio=e}},metadata:c},a,o),c&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:c})})(),t.CANVAS_BOUNDS=new jt(new kt(0,0),new Gt(1,1)),t.MIN_WIDTH=.05,t.MIN_HEIGHT=.05,Ft.loadStylesheet("transformable"),t})();!function(t){let e,r;!function(t){t.NONE="none",t.LEFT="left",t.RIGHT="right"}(e=t.WidthResizeDir||(t.WidthResizeDir={})),function(t){t.NONE="none",t.UP="up",t.DOWN="down"}(r=t.HeightResizeDir||(t.HeightResizeDir={})),t.getHeading=function(t,n){const s=kt.ZERO.copy();return t===e.LEFT?s.x=-1:t===e.RIGHT&&(s.x=1),n===r.UP?s.y=-1:n===r.DOWN&&(s.y=1),s.heading()}}(Xt||(Xt={}));const Yt=Xt;var qt=function(t,e,r,n,s,i){function a(t){if(void 0!==t&&"function"!=typeof t)throw new TypeError("Function expected");return t}for(var o,c=n.kind,l="getter"===c?"get":"setter"===c?"set":"value",u=!e&&t?n.static?t:t.prototype:null,d=e||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),h=!1,m=r.length-1;m>=0;m--){var p={};for(var f in n)p[f]="access"===f?{}:n[f];for(var f in n.access)p.access[f]=n.access[f];p.addInitializer=function(t){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(t||null))};var E=(0,r[m])("accessor"===c?{get:d.get,set:d.set}:d[l],p);if("accessor"===c){if(void 0===E)continue;if(null===E||"object"!=typeof E)throw new TypeError("Object expected");(o=a(E.get))&&(d.get=o),(o=a(E.set))&&(d.set=o),(o=a(E.init))&&s.unshift(o)}else(o=a(E))&&("field"===c?s.unshift(o):d[l]=o)}u&&Object.defineProperty(u,n.name,d),h=!0},Zt=function(t,e,r){for(var n=arguments.length>2,s=0;s<e.length;s++)r=n?e[s].call(t,r):e[s].call(t);return n?r:void 0};const Qt=Ot.INSTANCE;var Jt;!function(t){t.CONTAIN="contain",t.COVER="cover",t.FILL="fill",t.SCALE_DOWN="scale-down"}(Jt||(Jt={}));let te=(()=>{var t;let e,r,n=Yt,s=[],i=[],a=[],o=[];return t=class extends n{initElement(){const e=this.appendChild(Qt.img({},this.src??t.DEFAULT_SRC).make());this.onAttributeChanged("src",(()=>e.src=this.src??t.DEFAULT_SRC)),this.onAttributeChanged("fit",(()=>e.style.objectFit=this.fit)),super.initElement()}constructor(){super(...arguments),this.src=Zt(this,s,null),this.fit=(Zt(this,i),Zt(this,a,Jt.FILL)),Zt(this,o)}},(()=>{const c="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;e=[Mt("src",{fromString:t=>t},null)],r=[Ht("fit",Jt)],qt(null,null,e,{kind:"field",name:"src",static:!1,private:!1,access:{has:t=>"src"in t,get:t=>t.src,set:(t,e)=>{t.src=e}},metadata:c},s,i),qt(null,null,r,{kind:"field",name:"fit",static:!1,private:!1,access:{has:t=>"fit"in t,get:t=>t.fit,set:(t,e)=>{t.fit=e}},metadata:c},a,o),c&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:c})})(),t.DEFAULT_SRC="/images/placeholder.svg",t})();customElements.define("transformable-image",te);class ee{constructor(t,e,r,n=255){this.r=t,this.g=r,this.b=e,this.a=n}toString(){return"#"+(255==this.a?[this.r,this.g,this.b]:[this.r,this.g,this.b,this.a]).map((t=>t.toString(16).padStart(2,"0"))).join("").toUpperCase()}static fromString(t){if(!t.startsWith("#"))throw new SyntaxError("hex color string does not start with a '#'");if((t=t.substring(1)).length%2!=0||t.length<6||t.length>8)throw new SyntaxError("incorrect number of encoding characters: "+t.length);return new ee(Number.parseInt(t.substring(0,2),16),Number.parseInt(t.substring(2,4),16),Number.parseInt(t.substring(4,6),16),Number.parseInt(t.substring(6,8)||"FF",16))}}ee.TRANSPARENT=new ee(0,0,0,0),ee.BLACK=new ee(0,0,0),ee.WHITE=new ee(255,255,255),ee.RED=new ee(255,0,0),ee.GREEN=new ee(0,255,0),ee.BLUE=new ee(0,0,255);const re=ee;var ne=function(t,e,r,n,s,i){function a(t){if(void 0!==t&&"function"!=typeof t)throw new TypeError("Function expected");return t}for(var o,c=n.kind,l="getter"===c?"get":"setter"===c?"set":"value",u=!e&&t?n.static?t:t.prototype:null,d=e||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),h=!1,m=r.length-1;m>=0;m--){var p={};for(var f in n)p[f]="access"===f?{}:n[f];for(var f in n.access)p.access[f]=n.access[f];p.addInitializer=function(t){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(t||null))};var E=(0,r[m])("accessor"===c?{get:d.get,set:d.set}:d[l],p);if("accessor"===c){if(void 0===E)continue;if(null===E||"object"!=typeof E)throw new TypeError("Object expected");(o=a(E.get))&&(d.get=o),(o=a(E.set))&&(d.set=o),(o=a(E.init))&&s.unshift(o)}else(o=a(E))&&("field"===c?s.unshift(o):d[l]=o)}u&&Object.defineProperty(u,n.name,d),h=!0},se=function(t,e,r){for(var n=arguments.length>2,s=0;s<e.length;s++)r=n?e[s].call(t,r):e[s].call(t);return n?r:void 0};const ie=Ot.INSTANCE;var ae;!function(t){t.SQUARE="square",t.RECTANGLE="rectangle",t.ROUNDED_RECTANGLE="rounded-rectangle",t.CIRCLE="circle",t.ELLIPSE="ellipse",t.TRIANGLE="triangle",t.RIGHT_TRIANGLE="right-triangle"}(ae||(ae={}));let oe=(()=>{var t;let e,r,n=Yt,s=[],i=[],a=[],o=[];return t=class extends n{initElement(){this.hasAttribute("type")||(this.type=ae.SQUARE),this.appendChild(ie.div({},void 0,"shape").make()),this.onAttributeChanged("type",(()=>{const e=t.WIDTH_HEIGHT_RATIOS[this.type];if(void 0===e)this.lockAspectRatio=!1;else{const t=new Gt(this.transform.dim.width,this.transform.dim.width/e),r=new Gt(this.transform.dim.height*e,this.transform.dim.height);this.transform.dim=t.area<=r.area?t:r,this.lockAspectRatio=!0,this.refreshCSSVars()}}),!0),this.onAttributeChanged("color",(()=>this.refreshCSSVars())),super.initElement()}refreshCSSVars(){super.refreshCSSVars(),this.style.setProperty("--shape-fill-color",this.color.toString())}constructor(){super(...arguments),this.type=se(this,s,ae.RECTANGLE),this.color=(se(this,i),se(this,a,re.TRANSPARENT)),se(this,o)}},(()=>{const c="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;e=[Ht("type",ae)],r=[Mt("color",re)],ne(null,null,e,{kind:"field",name:"type",static:!1,private:!1,access:{has:t=>"type"in t,get:t=>t.type,set:(t,e)=>{t.type=e}},metadata:c},s,i),ne(null,null,r,{kind:"field",name:"color",static:!1,private:!1,access:{has:t=>"color"in t,get:t=>t.color,set:(t,e)=>{t.color=e}},metadata:c},a,o),c&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:c})})(),t})();!function(t){t.WIDTH_HEIGHT_RATIOS=Object.freeze({[ae.SQUARE]:1,[ae.RECTANGLE]:void 0,[ae.ROUNDED_RECTANGLE]:void 0,[ae.CIRCLE]:1,[ae.ELLIPSE]:void 0,[ae.TRIANGLE]:void 0,[ae.RIGHT_TRIANGLE]:void 0})}(oe||(oe={})),customElements.define("transformable-shape",oe);class ce extends Error{constructor(t){t=t?.trim(),super(t?"missing element: "+t:"missing element")}}var le=function(t,e,r,n,s,i){function a(t){if(void 0!==t&&"function"!=typeof t)throw new TypeError("Function expected");return t}for(var o,c=n.kind,l="getter"===c?"get":"setter"===c?"set":"value",u=!e&&t?n.static?t:t.prototype:null,d=e||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),h=!1,m=r.length-1;m>=0;m--){var p={};for(var f in n)p[f]="access"===f?{}:n[f];for(var f in n.access)p.access[f]=n.access[f];p.addInitializer=function(t){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(t||null))};var E=(0,r[m])("accessor"===c?{get:d.get,set:d.set}:d[l],p);if("accessor"===c){if(void 0===E)continue;if(null===E||"object"!=typeof E)throw new TypeError("Object expected");(o=a(E.get))&&(d.get=o),(o=a(E.set))&&(d.set=o),(o=a(E.init))&&s.unshift(o)}else(o=a(E))&&("field"===c?s.unshift(o):d[l]=o)}u&&Object.defineProperty(u,n.name,d),h=!0},ue=function(t,e,r){for(var n=arguments.length>2,s=0;s<e.length;s++)r=n?e[s].call(t,r):e[s].call(t);return n?r:void 0};const de=Ot.INSTANCE;var he,me,pe;!function(t){t.BOLD="bold",t.ITALIC="italic",t.UNDERLINE="underline",t.STRIKETHROUGH="strikethrough"}(he||(he={})),function(t){t.SERIF="serif",t.SANS_SERIF="sans-serif",t.MONOSPACE="monospace",t.CURSIVE="cursive",t.FANTASY="fantasy"}(me||(me={})),function(t){t.LEFT="left",t.CENTER="center",t.RIGHT="right",t.JUSTIFY="justify"}(pe||(pe={}));let fe=(()=>{var t;let e,r,n,s,i,a=Yt,o=[],c=[],l=[],u=[],d=[],h=[],m=[],p=[],f=[],E=[];return t=class extends a{get displayString(){if(!this.paragraphElement)throw new ce("missing <p> element");return this.paragraphElement.textContent??""}set displayString(t){if(!this.paragraphElement)throw new ce("missing <p> element");this.paragraphElement.textContent=t}initElement(){super.initElement(),this.toggleAttribute("transformable-string",!0),this.paragraphElement=this.appendChild(de.p({},"").classes("text").make()),this.onAttributeChanged(["color","font-family","alignment","font-size"],(()=>this.refreshCSSVars()))}refreshCSSVars(){this.style.setProperty("--text-fill-color",this.color.toString()),this.style.setProperty("--text-font-family",this.fontFamily),this.style.setProperty("--text-font-size",this.fontSize+"em"),this.style.setProperty("--text-alignment",this.alignment),super.refreshCSSVars()}constructor(){super(...arguments),this.color=ue(this,o,re.TRANSPARENT),this.styles=(ue(this,c),ue(this,l,new Set)),this.fontFamily=(ue(this,u),ue(this,d,me.SANS_SERIF)),this.alignment=(ue(this,h),ue(this,m,pe.LEFT)),this.fontSize=(ue(this,p),ue(this,f,1)),ue(this,E)}},(()=>{const y="function"==typeof Symbol&&Symbol.metadata?Object.create(a[Symbol.metadata]??null):void 0;e=[Mt("color",re)],r=[Ut("styles",he)],n=[Ht("font-family",me)],s=[Ht("alignment",pe)],i=[Mt("font-size",{fromString:Number.parseFloat})],le(null,null,e,{kind:"field",name:"color",static:!1,private:!1,access:{has:t=>"color"in t,get:t=>t.color,set:(t,e)=>{t.color=e}},metadata:y},o,c),le(null,null,r,{kind:"field",name:"styles",static:!1,private:!1,access:{has:t=>"styles"in t,get:t=>t.styles,set:(t,e)=>{t.styles=e}},metadata:y},l,u),le(null,null,n,{kind:"field",name:"fontFamily",static:!1,private:!1,access:{has:t=>"fontFamily"in t,get:t=>t.fontFamily,set:(t,e)=>{t.fontFamily=e}},metadata:y},d,h),le(null,null,s,{kind:"field",name:"alignment",static:!1,private:!1,access:{has:t=>"alignment"in t,get:t=>t.alignment,set:(t,e)=>{t.alignment=e}},metadata:y},m,p),le(null,null,i,{kind:"field",name:"fontSize",static:!1,private:!1,access:{has:t=>"fontSize"in t,get:t=>t.fontSize,set:(t,e)=>{t.fontSize=e}},metadata:y},f,E),y&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:y})})(),Ft.loadStylesheet("transformable-string"),t})();const Ee=fe;customElements.define("transformable-text",class extends Ee{get displayString(){return super.displayString}set displayString(t){super.displayString=t}initElement(){return super.initElement(),new Promise((t=>requestAnimationFrame((()=>{let e="";for(const t of Array.from(this.childNodes))t instanceof Text&&(e+=t.textContent??"",t.remove());this.displayString=e,t()}))))}});var ye,Se=function(t,e,r,n,s,i){function a(t){if(void 0!==t&&"function"!=typeof t)throw new TypeError("Function expected");return t}for(var o,c=n.kind,l="getter"===c?"get":"setter"===c?"set":"value",u=!e&&t?n.static?t:t.prototype:null,d=e||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),h=!1,m=r.length-1;m>=0;m--){var p={};for(var f in n)p[f]="access"===f?{}:n[f];for(var f in n.access)p.access[f]=n.access[f];p.addInitializer=function(t){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(t||null))};var E=(0,r[m])("accessor"===c?{get:d.get,set:d.set}:d[l],p);if("accessor"===c){if(void 0===E)continue;if(null===E||"object"!=typeof E)throw new TypeError("Object expected");(o=a(E.get))&&(d.get=o),(o=a(E.set))&&(d.set=o),(o=a(E.init))&&s.unshift(o)}else(o=a(E))&&("field"===c?s.unshift(o):d[l]=o)}u&&Object.defineProperty(u,n.name,d),h=!0},ge=function(t,e,r){for(var n=arguments.length>2,s=0;s<e.length;s++)r=n?e[s].call(t,r):e[s].call(t);return n?r:void 0};!function(t){t.DEFAULT="default"}(ye||(ye={}));let we=(()=>{var t;let e,r,n=Ee,s=[],i=[],a=[],o=[];return t=class extends n{initElement(){super.initElement(),this.onAttributeChanged(["date","format"],(()=>{this.displayString=this.formatDate(this.date,this.format)}),!0)}formatDate(e,r){if(r===ye.DEFAULT)return e.toLocaleDateString(t.LOCALE,{weekday:"long",month:"long",day:"numeric",hour12:!0,hour:"numeric"}).replaceAll(",","").toUpperCase()}constructor(){super(...arguments),this.date=ge(this,s,new Date),this.format=(ge(this,i),ge(this,a,ye.DEFAULT)),ge(this,o)}},(()=>{const c="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;e=[Mt("date",{fromString:t=>new Date(t),toString:t=>t.toISOString()})],r=[Ht("format",ye,ye.DEFAULT)],Se(null,null,e,{kind:"field",name:"date",static:!1,private:!1,access:{has:t=>"date"in t,get:t=>t.date,set:(t,e)=>{t.date=e}},metadata:c},s,i),Se(null,null,r,{kind:"field",name:"format",static:!1,private:!1,access:{has:t=>"format"in t,get:t=>t.format,set:(t,e)=>{t.format=e}},metadata:c},a,o),c&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:c})})(),t.LOCALE=new Intl.Locale("en-us"),t})();customElements.define("transformable-datetime-text",we)})();